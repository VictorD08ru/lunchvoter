2018-10-04 14:00:41,667 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 14:00:41,832 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 14:00:41 MSK 2018]; root of context hierarchy
2018-10-04 14:00:41,981 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 14:00:42,248 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 14:00:42,374 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 14:00:42,451 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 14:00:42,536 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 14:00:42,539 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 14:00:42,608 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 14:00:43,195 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 14:00:45,620 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 14:00:45,620 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 14:00:45,784 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:00:45,786 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:00:45,824 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:00:45,825 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:00:45,912 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 14:00:45,986 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 14:00:46,051 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 14:00:46,502 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 14:00:46,502 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 14:00:46,931 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 14:00:58,286 WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService:132 - HHH000342: Could not obtain connection to query metadata : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:00:57 heartbeat - read: -4185 ms.
2018-10-04 14:00:58,401 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
2018-10-04 14:00:58,412 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'menu' removed from EhcacheManager.
2018-10-04 14:00:58,413 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'users' removed from EhcacheManager.
2018-10-04 14:00:58,429 ERROR org.springframework.web.context.ContextLoader.initWebApplicationContext:316 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4792)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:179)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:119)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695)
	... 57 common frames omitted
Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:94)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 74 common frames omitted
2018-10-04 14:05:29,035 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 14:05:29,141 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 14:05:29 MSK 2018]; root of context hierarchy
2018-10-04 14:05:29,300 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 14:05:29,413 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 14:05:29,544 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 14:05:29,592 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 14:05:29,693 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 14:05:29,694 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 14:05:29,736 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 14:05:29,947 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 14:05:31,817 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 14:05:31,817 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 14:05:31,893 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:05:31,895 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:05:31,934 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:05:31,935 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:05:31,978 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 14:05:32,017 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 14:05:32,143 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 14:05:32,376 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 14:05:32,378 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 14:05:32,768 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 14:05:44,035 WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService:132 - HHH000342: Could not obtain connection to query metadata : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:05:42 heartbeat - read: -9942 ms.
2018-10-04 14:05:44,068 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
2018-10-04 14:05:44,088 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'menu' removed from EhcacheManager.
2018-10-04 14:05:44,090 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'users' removed from EhcacheManager.
2018-10-04 14:05:44,119 ERROR org.springframework.web.context.ContextLoader.initWebApplicationContext:316 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4792)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:179)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:119)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695)
	... 57 common frames omitted
Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:94)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 74 common frames omitted
2018-10-04 14:07:40,630 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 14:07:40,763 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 14:07:40 MSK 2018]; root of context hierarchy
2018-10-04 14:07:40,950 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 14:07:41,063 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 14:07:41,179 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 14:07:41,248 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 14:07:41,350 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 14:07:41,352 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 14:07:41,409 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 14:07:41,647 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 14:07:43,704 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 14:07:43,710 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 14:07:43,771 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:07:43,773 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:07:43,815 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:07:43,817 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:07:43,870 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 14:07:43,917 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 14:07:44,049 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 14:07:44,270 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 14:07:44,288 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 14:07:44,669 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 14:07:55,821 WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService:132 - HHH000342: Could not obtain connection to query metadata : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:07:54 heartbeat - read: -1712 ms.
2018-10-04 14:07:55,851 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
2018-10-04 14:07:55,875 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'menu' removed from EhcacheManager.
2018-10-04 14:07:55,878 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'users' removed from EhcacheManager.
2018-10-04 14:07:55,913 ERROR org.springframework.web.context.ContextLoader.initWebApplicationContext:316 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4792)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:179)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:119)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695)
	... 57 common frames omitted
Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:94)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 74 common frames omitted
2018-10-04 14:09:19,899 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 14:09:20,016 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 14:09:20 MSK 2018]; root of context hierarchy
2018-10-04 14:09:20,169 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 14:09:20,279 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 14:09:20,390 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 14:09:20,447 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 14:09:20,534 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 14:09:20,535 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 14:09:20,578 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 14:09:20,782 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 14:09:22,750 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 14:09:22,750 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 14:09:22,823 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:09:22,825 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:09:22,870 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:09:22,871 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:09:22,916 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 14:09:22,962 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 14:09:23,086 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 14:09:23,314 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 14:09:23,314 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 14:09:23,697 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 14:09:34,896 WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService:132 - HHH000342: Could not obtain connection to query metadata : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:09:33 heartbeat - read: -804 ms.
2018-10-04 14:09:34,907 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
2018-10-04 14:09:34,915 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'menu' removed from EhcacheManager.
2018-10-04 14:09:34,916 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'users' removed from EhcacheManager.
2018-10-04 14:09:34,935 ERROR org.springframework.web.context.ContextLoader.initWebApplicationContext:316 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [spring/spring-db.xml]: Invocation of init method failed; nested exception is org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1089)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:859)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4792)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment]
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:275)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:179)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:119)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:904)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:935)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695)
	... 57 common frames omitted
Caused by: org.hibernate.HibernateException: Access to DialectResolutionInfo cannot be null when 'hibernate.dialect' not set
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.determineDialect(DialectFactoryImpl.java:100)
	at org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl.buildDialect(DialectFactoryImpl.java:54)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:137)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:94)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 74 common frames omitted
2018-10-04 14:14:29,881 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 14:14:30,024 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 14:14:30 MSK 2018]; root of context hierarchy
2018-10-04 14:14:30,224 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 14:14:30,350 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 14:14:30,475 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 14:14:30,555 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 14:14:30,658 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 14:14:30,661 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 14:14:30,723 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 14:14:30,916 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 14:14:33,005 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 14:14:33,013 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 14:14:33,073 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:14:33,077 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:14:33,113 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:14:33,113 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:14:33,165 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 14:14:33,210 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 14:14:33,372 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 14:14:33,595 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 14:14:33,595 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 14:14:34,012 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 14:14:45,138 WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService:132 - HHH000342: Could not obtain connection to query metadata : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:14:44 heartbeat - read: -1060 ms.
2018-10-04 14:14:45,250 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 14:14:45,406 INFO  o.h.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder:63 - HHH000422: Disabling contextual LOB creation as connection was null
2018-10-04 14:14:46,559 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 14:14:47,326 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 14:14:47,342 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 14:14:47,353 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 14:14:47,357 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 14:14:47,362 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 14:14:47,365 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 14:14:48,436 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 14:14:48,544 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 14:14:49,898 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 14:14:51,008 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 14:14:51,016 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 14:14:51,030 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 14:14:51,033 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@58052097, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73642bb2, org.springframework.security.web.header.HeaderWriterFilter@535eb87, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1c7d3994, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3356c887, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aef5dbd, org.springframework.security.web.access.ExceptionTranslationFilter@34cbd26f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ee5d694]
2018-10-04 14:15:01,694 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:15:00 heartbeat - read: -7613 ms.
2018-10-04 14:15:01,703 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 14:15:01,728 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' removed from EhcacheManager.
2018-10-04 14:15:01,729 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' removed from EhcacheManager.
2018-10-04 14:15:01,730 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' removed from EhcacheManager.
2018-10-04 14:15:01,734 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'menu' removed from EhcacheManager.
2018-10-04 14:15:01,736 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'users' removed from EhcacheManager.
2018-10-04 14:15:01,749 ERROR org.springframework.web.context.ContextLoader.initWebApplicationContext:316 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:15:00 heartbeat - read: -7613 ms.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4792)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:15:00 heartbeat - read: -7613 ms.
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:58)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:111)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695)
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:15:00 heartbeat - read: -7613 ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:46)
	... 61 common frames omitted
Caused by: java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:15:00 heartbeat - read: -7613 ms.
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCConnection.<init>(Unknown Source)
	at org.hsqldb.jdbc.JDBCDriver.getConnection(Unknown Source)
	at org.hsqldb.jdbc.JDBCDriver.connect(Unknown Source)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	... 62 common frames omitted
Caused by: org.hsqldb.HsqlException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:15:00 heartbeat - read: -7613 ms.
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.persist.LockFile.newLockFileLock(Unknown Source)
	at org.hsqldb.persist.Logger.acquireLock(Unknown Source)
	at org.hsqldb.persist.Logger.open(Unknown Source)
	at org.hsqldb.Database.reopen(Unknown Source)
	at org.hsqldb.Database.open(Unknown Source)
	at org.hsqldb.DatabaseManager.getDatabase(Unknown Source)
	at org.hsqldb.DatabaseManager.newSession(Unknown Source)
	... 74 common frames omitted
2018-10-04 14:19:53,993 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 14:19:54,099 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 14:19:54 MSK 2018]; root of context hierarchy
2018-10-04 14:19:54,265 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 14:19:54,378 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 14:19:54,490 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 14:19:54,548 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 14:19:54,630 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 14:19:54,630 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 14:19:54,676 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 14:19:54,879 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 14:19:56,807 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 14:19:56,815 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 14:19:56,874 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:19:56,874 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:19:56,931 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 14:19:56,932 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 14:19:56,984 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 14:19:57,032 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 14:19:57,192 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 14:19:57,425 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 14:19:57,428 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 14:19:57,828 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 14:20:09,025 WARN  o.h.e.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService:132 - HHH000342: Could not obtain connection to query metadata : Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:07 heartbeat - read: -4940 ms.
2018-10-04 14:20:09,074 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 14:20:09,141 INFO  o.h.engine.jdbc.env.internal.LobCreatorBuilderImpl.makeLobCreatorBuilder:63 - HHH000422: Disabling contextual LOB creation as connection was null
2018-10-04 14:20:10,138 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 14:20:10,844 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 14:20:10,863 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 14:20:10,870 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 14:20:10,870 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 14:20:10,870 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 14:20:10,870 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 14:20:12,110 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 14:20:12,224 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 14:20:13,763 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 14:20:14,962 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 14:20:14,970 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 14:20:14,983 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 14:20:14,987 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@364951e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fca4d3c, org.springframework.security.web.header.HeaderWriterFilter@61022b77, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@520bd35a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@85a32e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e3b332e, org.springframework.security.web.access.ExceptionTranslationFilter@da35421, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7838f8dc]
2018-10-04 14:20:25,653 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:24 heartbeat - read: -1570 ms.
2018-10-04 14:20:25,663 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.destroy:597 - Closing JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 14:20:25,671 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' removed from EhcacheManager.
2018-10-04 14:20:25,672 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' removed from EhcacheManager.
2018-10-04 14:20:25,674 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' removed from EhcacheManager.
2018-10-04 14:20:25,682 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'menu' removed from EhcacheManager.
2018-10-04 14:20:25,686 INFO  org.ehcache.core.EhcacheManager.removeCache:208 - Cache 'users' removed from EhcacheManager.
2018-10-04 14:20:25,699 ERROR org.springframework.web.context.ContextLoader.initWebApplicationContext:316 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.jdbc.datasource.init.DataSourceInitializer#0': Invocation of init method failed; nested exception is org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:24 heartbeat - read: -1570 ms.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1699)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:409)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:291)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4792)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:24 heartbeat - read: -1570 ms.
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:58)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.execute(DataSourceInitializer.java:111)
	at org.springframework.jdbc.datasource.init.DataSourceInitializer.afterPropertiesSet(DataSourceInitializer.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1758)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1695)
	... 57 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:24 heartbeat - read: -1570 ms.
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:46)
	... 61 common frames omitted
Caused by: java.sql.SQLException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:24 heartbeat - read: -1570 ms.
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)
	at org.hsqldb.jdbc.JDBCConnection.<init>(Unknown Source)
	at org.hsqldb.jdbc.JDBCDriver.getConnection(Unknown Source)
	at org.hsqldb.jdbc.JDBCDriver.connect(Unknown Source)
	at java.sql.DriverManager.getConnection(DriverManager.java:664)
	at java.sql.DriverManager.getConnection(DriverManager.java:208)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)
	at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)
	at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:151)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:115)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:78)
	... 62 common frames omitted
Caused by: org.hsqldb.HsqlException: Database lock acquisition failure: lockFile: org.hsqldb.persist.LockFile@102b3b17[file =D:\projects\lunchvoter-backend\dbase\lunchvoter.lck, exists=true, locked=false, valid=false, ] method: checkHeartbeat read: 2018-10-04 11:20:24 heartbeat - read: -1570 ms.
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.error.Error.error(Unknown Source)
	at org.hsqldb.persist.LockFile.newLockFileLock(Unknown Source)
	at org.hsqldb.persist.Logger.acquireLock(Unknown Source)
	at org.hsqldb.persist.Logger.open(Unknown Source)
	at org.hsqldb.Database.reopen(Unknown Source)
	at org.hsqldb.Database.open(Unknown Source)
	at org.hsqldb.DatabaseManager.getDatabase(Unknown Source)
	at org.hsqldb.DatabaseManager.newSession(Unknown Source)
	... 74 common frames omitted
2018-10-04 15:19:57,372 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 15:19:57,514 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy
2018-10-04 15:19:57,787 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 15:19:57,908 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 15:19:58,081 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 15:19:58,172 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:19:58,271 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 15:19:58,273 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 15:19:58,338 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 15:19:58,577 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 15:20:00,569 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 15:20:00,576 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 15:20:00,642 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:20:00,644 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:20:00,690 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:20:00,691 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:20:00,739 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 15:20:00,789 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 15:20:00,949 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 15:20:01,215 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 15:20:01,217 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 15:20:01,641 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 15:20:02,892 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 15:20:03,982 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 15:20:04,756 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:20:04,771 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 15:20:04,778 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:20:04,778 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 15:20:04,778 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:20:04,778 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 15:20:05,852 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 15:20:05,959 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 15:20:07,378 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 15:20:08,151 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 15:20:08,151 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 15:20:08,175 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:20:08,178 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@78f8717b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10699e52, org.springframework.security.web.header.HeaderWriterFilter@6208113f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@22a326c6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10355ce8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17abffc0, org.springframework.security.web.access.ExceptionTranslationFilter@417e4836, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77fef2f4]
2018-10-04 15:20:08,610 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 15:20:08,664 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 54 ms.
2018-10-04 15:20:08,664 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 15:20:08,680 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 15 ms.
2018-10-04 15:20:09,013 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 11632 ms
2018-10-04 15:20:09,032 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:09,061 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:09,061 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:09,069 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:09 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:09,070 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:09,189 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:09,202 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:10,267 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#49e01f6e' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#49e01f6e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:10,273 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#49e01f6e' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#49e01f6e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:983)
	at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4978)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5290)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:754)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:730)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)
	at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1736)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:483)
	at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:432)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:300)
	at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)
	at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)
	at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)
	at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)
	at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)
	at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)
	at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)
	at sun.rmi.transport.Transport$1.run(Transport.java:200)
	at sun.rmi.transport.Transport$1.run(Transport.java:197)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.Transport.serviceCall(Transport.java:196)
	at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:835)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)
	at java.security.AccessController.doPrivileged(Native Method)
	at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#49e01f6e' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#49e01f6e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 63 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#49e01f6e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 96 common frames omitted
2018-10-04 15:20:11,059 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:11,096 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:11,097 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:11,098 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:11 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:11,099 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:11,142 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:11,147 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:11,484 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#5b166020' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5b166020': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:11,485 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#5b166020' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5b166020': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#5b166020' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5b166020': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#5b166020': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:11,526 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:11,531 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:11,532 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:11,535 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:11 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:11,536 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:11,573 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:11,581 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:11,664 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#7bace6a4' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7bace6a4': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:11,665 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#7bace6a4' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7bace6a4': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#7bace6a4' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7bace6a4': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7bace6a4': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:14,207 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:14,216 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:14,217 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:14,220 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:14 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:14,220 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:14,313 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:14,314 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:14,549 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#11ad042e' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#11ad042e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:14,550 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#11ad042e' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#11ad042e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#11ad042e' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#11ad042e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#11ad042e': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:14,578 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:14,586 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:14,639 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:14,641 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:14 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:14,641 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:14,675 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:14,677 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:14,994 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#61bbb754' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#61bbb754': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:14,997 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#61bbb754' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#61bbb754': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#61bbb754' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#61bbb754': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#61bbb754': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:16,082 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:16,093 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:16,094 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:16,095 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:16 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:16,096 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:16,394 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:16,396 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:16,839 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#7cd25db8' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7cd25db8': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:16,840 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#7cd25db8' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7cd25db8': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#7cd25db8' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7cd25db8': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7cd25db8': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:17,135 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:17,161 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:17,683 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:17,685 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:17 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:17,685 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:17,715 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:17,793 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:18,047 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#28fb7d3b' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#28fb7d3b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:18,163 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#28fb7d3b' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#28fb7d3b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#28fb7d3b' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#28fb7d3b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#28fb7d3b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:18,220 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:18,222 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:18,225 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:18,227 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:18 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:18,227 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:18,261 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:18,262 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:18,385 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#3d0d3de5' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3d0d3de5': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:18,401 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#3d0d3de5' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3d0d3de5': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#3d0d3de5' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3d0d3de5': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#3d0d3de5': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:26,646 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:26,648 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:26,648 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:26,650 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:26 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:26,651 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:26,719 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:26,721 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:26,819 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#66bab529' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66bab529': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:26,822 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#66bab529' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66bab529': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#66bab529' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66bab529': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#66bab529': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:27,856 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:27,858 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:27,859 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:27,861 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:27 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:27,862 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:27,892 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:27,917 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:28,040 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#2ad304ef' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2ad304ef': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:28,043 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#2ad304ef' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2ad304ef': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#2ad304ef' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2ad304ef': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#2ad304ef': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:20:38,119 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:20:38,120 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:20:38,121 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:19:57 MSK 2018]; root of context hierarchy]
2018-10-04 15:20:38,122 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:20:38 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:20:38,123 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:20:38,173 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:20:38,174 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:20:38,260 WARN  o.s.web.context.support.XmlWebApplicationContext.refresh:558 - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#15c2c02b' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#15c2c02b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
2018-10-04 15:20:38,261 ERROR org.springframework.web.servlet.DispatcherServlet.initServletBean:503 - Context initialization failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': Initialization of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#15c2c02b' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#15c2c02b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550)
	at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:672)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:638)
	at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:686)
	at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:554)
	at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:499)
	at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:172)
	at javax.servlet.GenericServlet.init(GenericServlet.java:158)
	at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)
	at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)
	at org.apache.catalina.core.StandardWrapper.allocate(StandardWrapper.java:773)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:133)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.handler.MappedInterceptor#0': Cannot create inner bean '(inner bean)#15c2c02b' of type [org.springframework.web.servlet.handler.ConversionServiceExposingInterceptor] while setting constructor argument; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#15c2c02b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:327)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:131)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:514)
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1206)
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:290)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:268)
	at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:243)
	at org.springframework.web.servlet.handler.SimpleUrlHandlerMapping.initApplicationContext(SimpleUrlHandlerMapping.java:102)
	at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)
	at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:77)
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)
	at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:120)
	at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:96)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1691)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#15c2c02b': Cannot resolve reference to bean 'conversionService' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:378)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:110)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:625)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1267)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1124)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:535)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:312)
	... 60 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'conversionService' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:685)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1210)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:291)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:273)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:367)
	... 68 common frames omitted
2018-10-04 15:28:38,687 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 15:28:38,824 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 15:28:38 MSK 2018]; root of context hierarchy
2018-10-04 15:28:39,061 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 15:28:39,194 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 15:28:39,298 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 15:28:39,406 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:28:39,489 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 15:28:39,491 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 15:28:39,544 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 15:28:39,747 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 15:28:41,785 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 15:28:41,791 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 15:28:41,879 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:28:41,883 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:28:41,908 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:28:41,924 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:28:41,974 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 15:28:42,033 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 15:28:42,248 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 15:28:42,473 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 15:28:42,473 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 15:28:42,900 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 15:28:44,233 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 15:28:45,371 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 15:28:46,029 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:28:46,055 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 15:28:46,067 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:28:46,071 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 15:28:46,075 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:28:46,082 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 15:28:47,370 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 15:28:47,848 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 15:28:50,011 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 15:28:51,462 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 15:28:51,471 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 15:28:51,489 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:28:51,508 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@62585275, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b0b82dc, org.springframework.security.web.header.HeaderWriterFilter@8bf0761, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6ff9c357, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ad5585f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6db4e401, org.springframework.security.web.access.ExceptionTranslationFilter@317025f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@69327bfc]
2018-10-04 15:28:52,112 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 15:28:52,134 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 20 ms.
2018-10-04 15:28:52,135 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 15:28:52,157 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 21 ms.
2018-10-04 15:28:52,426 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 13731 ms
2018-10-04 15:28:52,474 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:28:52,538 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:28:52,538 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:28:38 MSK 2018]; root of context hierarchy]
2018-10-04 15:28:52,549 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:28:52,550 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:28:52,830 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:28:52,846 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:28:54,140 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 15:28:54,185 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:28:54,186 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 15:28:54,187 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 15:28:54,187 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 15:28:54,188 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 15:28:54,188 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 15:28:54,189 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 15:28:54,189 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 15:28:54,190 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 15:28:54,205 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 15:28:54,206 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 15:28:54,208 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 15:28:54,208 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 15:28:54,209 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 15:28:54,300 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:28:54,348 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:28:54,626 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:28:54,629 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 15:28:54,636 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 15:28:54,637 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 15:28:54,641 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 15:28:54,642 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 15:28:54,815 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 15:28:54,816 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 15:28:54,817 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 15:28:54,820 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 15:28:54,822 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 15:28:54,832 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:28:54,833 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 15:28:54,835 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 15:28:54,836 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 15:28:54,845 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 15:28:54,846 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 15:28:54,847 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 15:28:54,851 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 15:28:54,852 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:28:54,855 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 15:28:54,856 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:28:54,857 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:28:54,876 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:28:54,964 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 15:28:54,965 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 15:28:54,966 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 15:28:54,972 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 15:28:55,510 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:28:55,669 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:28:55,715 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:28:55,722 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 15:28:55,798 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 15:28:55,803 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:28:56,554 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 15:28:56,554 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:28:56,554 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 15:28:56,570 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:28:56,573 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 15:28:56,574 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:28:56,577 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 15:28:56,578 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:28:56,580 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 15:28:56,581 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:28:57,035 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 15:28:57,035 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@7a268471]
2018-10-04 15:28:57,059 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@373f3058]
2018-10-04 15:28:57,081 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b7767cd]
2018-10-04 15:28:57,197 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 15:28:57,235 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@66ecee5]
2018-10-04 15:28:57,237 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 15:28:57,238 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 4700 ms
2018-10-04 15:28:57,238 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 15:28:57,808 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:28:57,812 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:28:57,819 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:28:57,823 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:28:57,830 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:28:57,830 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:28:57,834 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:28:57,844 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@97996224: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:28:57,844 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:28:57,845 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:28:57,847 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:28:57,848 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:28:57,848 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@97996224: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:28:57,904 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: -1
2018-10-04 15:28:57,915 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:28:57,933 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:28:57,934 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:28:57,934 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:28:57,970 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 15:28:57,971 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:28:57,971 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:28:57,971 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:28:57,972 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:28:57,972 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:28:57,973 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:28:57,973 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@97996224: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:28:57,973 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:28:57,974 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:28:57,974 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 15:28:57,974 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 15:28:57,974 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@97996224: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:28:57,976 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: -1
2018-10-04 15:28:57,977 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:28:57,980 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:28:57,980 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:28:57,980 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:28:58,534 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:28:58,537 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:28:58,538 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:28:58,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:28:58,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:28:58,547 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:28:58,548 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:28:58,548 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@979546ce: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:28:58,548 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:28:58,549 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:28:58,549 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:28:58,549 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:28:58,550 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@979546ce: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:28:58,550 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: -1
2018-10-04 15:28:58,550 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:28:58,664 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:28:58,666 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:28:58,668 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:29:08,488 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:29:08,488 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:29:08,489 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:29:08,489 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:29:08,491 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:29:08,498 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:29:08,501 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:29:09,196 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:09,196 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:29:09,197 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:29:09,197 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:29:09,197 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:29:09,197 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:29:09,198 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:29:09,198 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:29:09,198 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:09,198 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: 1
2018-10-04 15:29:09,199 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:29:09,200 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:29:09,201 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 15:29:09,218 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 15:29:09,221 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/
2018-10-04 15:29:09,261 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/]
2018-10-04 15:29:09,264 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/] are [/**]
2018-10-04 15:29:09,269 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/] are {}
2018-10-04 15:29:09,271 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@27c872d6] and 1 interceptor
2018-10-04 15:29:09,273 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 15:29:09,280 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:29:09,281 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:29:09,281 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:29:09,283 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:29:09,283 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:29:09,774 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/favicon.ico'; against '/resources/**'
2018-10-04 15:29:09,774 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:29:09,775 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:29:09,776 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:29:09,777 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:29:09,777 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:29:09,778 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:29:09,778 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@979546ce: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:29:09,778 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:29:09,778 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:29:09,779 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/favicon.ico'; against '/admin/**'
2018-10-04 15:29:09,779 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /favicon.ico; Attributes: [isAuthenticated()]
2018-10-04 15:29:09,779 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@979546ce: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:29:09,779 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: -1
2018-10-04 15:29:09,780 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:29:09,793 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:29:09,794 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:29:09,795 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:29:09,800 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/favicon.ico'; against '/resources/**'
2018-10-04 15:29:09,800 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:29:09,801 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:29:09,801 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:29:09,801 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:29:09,801 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:29:09,802 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:29:09,844 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:09,845 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:29:09,845 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:29:09,845 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:29:09,845 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:29:09,845 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:29:09,845 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/favicon.ico'; against '/admin/**'
2018-10-04 15:29:09,846 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /favicon.ico; Attributes: [isAuthenticated()]
2018-10-04 15:29:09,846 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:09,846 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: 1
2018-10-04 15:29:09,846 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:29:09,846 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:29:09,846 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /favicon.ico reached end of additional filter chain; proceeding with original chain
2018-10-04 15:29:09,847 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/favicon.ico]
2018-10-04 15:29:09,847 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /favicon.ico
2018-10-04 15:29:09,850 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/favicon.ico]
2018-10-04 15:29:09,851 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/favicon.ico] are [/**]
2018-10-04 15:29:09,851 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/favicon.ico] are {}
2018-10-04 15:29:09,852 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/favicon.ico] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@27c872d6] and 1 interceptor
2018-10-04 15:29:09,852 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/favicon.ico] is: -1
2018-10-04 15:29:09,853 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:29:09,853 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:29:09,854 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:29:09,854 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:29:09,854 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:29:13,947 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurant'; against '/resources/**'
2018-10-04 15:29:13,948 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:29:13,948 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:29:13,949 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:29:13,949 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:29:13,949 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:29:13,950 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:29:14,073 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:14,073 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:29:14,073 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:29:14,074 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:29:14,074 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:29:14,074 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurant at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:29:14,074 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurant'; against '/admin/**'
2018-10-04 15:29:14,074 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurant; Attributes: [isAuthenticated()]
2018-10-04 15:29:14,075 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:14,075 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: 1
2018-10-04 15:29:14,076 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:29:14,076 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:29:14,077 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurant reached end of additional filter chain; proceeding with original chain
2018-10-04 15:29:14,077 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurant]
2018-10-04 15:29:14,077 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurant
2018-10-04 15:29:14,089 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurant]
2018-10-04 15:29:14,089 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurant] are [/**]
2018-10-04 15:29:14,090 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurant] are {}
2018-10-04 15:29:14,090 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurant] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@27c872d6] and 1 interceptor
2018-10-04 15:29:14,090 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurant] is: -1
2018-10-04 15:29:14,091 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:29:14,091 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:29:14,092 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:29:14,092 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:29:14,092 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:29:18,438 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/resources/**'
2018-10-04 15:29:18,438 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:29:18,439 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:29:18,439 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:29:18,439 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:29:18,440 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:29:18,440 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:29:18,555 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:18,556 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:29:18,556 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:29:18,556 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:29:18,556 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:29:18,556 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:29:18,556 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/admin/**'
2018-10-04 15:29:18,556 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants; Attributes: [isAuthenticated()]
2018-10-04 15:29:18,556 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:29:18,557 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: 1
2018-10-04 15:29:18,557 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:29:18,559 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:29:18,559 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 15:29:18,559 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 15:29:18,560 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants
2018-10-04 15:29:18,565 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants]
2018-10-04 15:29:18,566 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants] are [/**]
2018-10-04 15:29:18,567 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants] are {}
2018-10-04 15:29:18,567 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@27c872d6] and 1 interceptor
2018-10-04 15:29:18,568 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 15:29:18,569 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:29:18,569 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:29:18,570 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:29:18,570 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:29:18,570 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:30:11,727 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/resources/**'
2018-10-04 15:30:11,727 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:30:11,727 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:30:11,728 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:30:11,728 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:30:11,728 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:30:11,729 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:30:11,859 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:30:11,860 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:30:11,861 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:30:11,861 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:30:11,862 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:30:11,863 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:30:11,864 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/admin/**'
2018-10-04 15:30:11,865 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 15:30:11,866 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@122b548f: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:30:11,867 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@ee8a76a, returned: 1
2018-10-04 15:30:11,867 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:30:11,868 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:30:11,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 15:30:11,870 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10011]
2018-10-04 15:30:11,872 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants/10011
2018-10-04 15:30:11,890 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants/10011]
2018-10-04 15:30:11,890 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants/10011] are [/**]
2018-10-04 15:30:11,891 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants/10011] are {}
2018-10-04 15:30:11,892 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants/10011] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@27c872d6] and 1 interceptor
2018-10-04 15:30:11,892 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10011] is: -1
2018-10-04 15:30:11,893 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@45a68d97
2018-10-04 15:30:11,894 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:30:11,894 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:30:11,895 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:30:11,895 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:34:46,298 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:28:52 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:23,154 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 15:35:23,346 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 15:35:23 MSK 2018]; root of context hierarchy
2018-10-04 15:35:23,469 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 15:35:23,591 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 15:35:23,744 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 15:35:23,832 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:35:23,924 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 15:35:23,926 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 15:35:23,976 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 15:35:24,269 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 15:35:26,337 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 15:35:26,344 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 15:35:26,428 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:35:26,431 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:35:26,472 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:35:26,473 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:35:26,513 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 15:35:26,565 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 15:35:26,731 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 15:35:26,976 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 15:35:26,978 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 15:35:27,371 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 15:35:28,540 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 15:35:29,525 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 15:35:30,173 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:35:30,189 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 15:35:30,200 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:35:30,205 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 15:35:30,209 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:35:30,214 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 15:35:31,212 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 15:35:31,331 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 15:35:32,845 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 15:35:33,592 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 15:35:33,592 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 15:35:33,619 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:35:33,622 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@2c631a72, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60d5b8c0, org.springframework.security.web.header.HeaderWriterFilter@1de4347e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4a000daa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54cf5e14, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31aa2c31, org.springframework.security.web.access.ExceptionTranslationFilter@542056a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@47a74090]
2018-10-04 15:35:34,224 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 15:35:34,235 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 11 ms.
2018-10-04 15:35:34,235 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 15:35:34,252 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 16 ms.
2018-10-04 15:35:34,473 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 11301 ms
2018-10-04 15:35:34,516 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:35:34,551 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:35:34,552 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:35:23 MSK 2018]; root of context hierarchy]
2018-10-04 15:35:34,561 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:34,562 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:35:34,688 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:35:34,704 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:35:35,839 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 15:35:35,886 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:35,894 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 15:35:35,895 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 15:35:35,896 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 15:35:35,896 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 15:35:35,897 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 15:35:35,897 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 15:35:35,898 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 15:35:35,898 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 15:35:35,899 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 15:35:35,899 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 15:35:35,901 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 15:35:35,902 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 15:35:35,903 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 15:35:35,907 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 15:35:35,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 15:35:35,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 15:35:35,909 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 15:35:35,911 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 15:35:35,914 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 15:35:35,915 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 15:35:35,917 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 15:35:35,917 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 15:35:35,918 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 15:35:35,918 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 15:35:35,920 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 15:35:35,922 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 15:35:35,922 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 15:35:35,923 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 15:35:35,924 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 15:35:35,924 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 15:35:35,925 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 15:35:35,926 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 15:35:35,927 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 15:35:35,930 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 15:35:35,931 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 15:35:35,932 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 15:35:35,933 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 15:35:35,933 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 15:35:35,934 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 15:35:35,935 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 15:35:35,935 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 15:35:35,938 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 15:35:35,939 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 15:35:35,940 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 15:35:35,941 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 15:35:36,041 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:35:36,137 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:36,229 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:35:36,231 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 15:35:36,243 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 15:35:36,245 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 15:35:36,247 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 15:35:36,249 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 15:35:36,250 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 15:35:36,252 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 15:35:36,254 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 15:35:36,256 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 15:35:36,257 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 15:35:36,269 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:35:36,269 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 15:35:36,269 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 15:35:36,269 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 15:35:36,269 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 15:35:36,269 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 15:35:36,269 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 15:35:36,269 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:35:36,285 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 15:35:36,285 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 15:35:36,728 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:36,833 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:36,875 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:35:36,879 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 15:35:36,900 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 15:35:36,900 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:35:37,150 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 15:35:37,150 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:35:37,150 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 15:35:37,150 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:35:37,150 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 15:35:37,150 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:35:37,150 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 15:35:37,150 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:35:37,150 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 15:35:37,150 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:35:37,234 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 15:35:37,234 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@73e378a4]
2018-10-04 15:35:37,259 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@3364ccc6]
2018-10-04 15:35:37,272 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7252f3b8]
2018-10-04 15:35:37,299 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 15:35:37,324 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@9d2817d]
2018-10-04 15:35:37,325 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 15:35:37,325 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2774 ms
2018-10-04 15:35:37,325 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 15:35:37,613 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:35:37,617 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:35:37,625 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:35:37,629 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:35:37,632 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:35:37,632 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:35:37,632 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:35:37,632 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@60b43d7b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:35:37,632 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:35:37,632 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:35:37,632 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:35:37,632 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:35:37,632 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@60b43d7b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:35:37,692 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@410859aa, returned: -1
2018-10-04 15:35:37,704 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:35:37,725 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:35:37,726 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7d9cd052
2018-10-04 15:35:37,726 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:35:37,767 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 15:35:37,768 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:35:37,769 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:35:37,769 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:35:37,769 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:35:37,770 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:35:37,770 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:35:37,770 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@60b43d7b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:35:37,771 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:35:37,772 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:35:37,772 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 15:35:37,772 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 15:35:37,773 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@60b43d7b: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:35:37,774 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@410859aa, returned: -1
2018-10-04 15:35:37,776 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:35:37,778 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:35:37,778 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7d9cd052
2018-10-04 15:35:37,778 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:35:38,264 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:35:38,264 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:35:38,264 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:35:38,265 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:35:38,265 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:35:38,265 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:35:38,266 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:35:39,138 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6ba335b7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:35:39,139 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:35:39,139 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:35:39,140 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6ba335b7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:35:39,142 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:35:39,143 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:35:39,144 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:35:39,144 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:35:39,145 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6ba335b7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:35:39,145 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@410859aa, returned: 1
2018-10-04 15:35:39,145 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:35:39,145 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:35:39,146 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 15:35:39,162 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 15:35:39,165 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/
2018-10-04 15:35:39,213 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/]
2018-10-04 15:35:39,231 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/] are [/**]
2018-10-04 15:35:39,234 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/] are {}
2018-10-04 15:35:39,239 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@2438b274] and 1 interceptor
2018-10-04 15:35:39,246 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 15:35:39,256 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7d9cd052
2018-10-04 15:35:39,262 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:35:39,263 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:35:39,264 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:35:39,264 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:35:44,453 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/resources/**'
2018-10-04 15:35:44,453 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:35:44,453 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:35:44,454 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:35:44,454 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:35:44,454 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:35:44,454 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:35:44,582 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6ba335b7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:35:44,583 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:35:44,584 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:35:44,585 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6ba335b7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:35:44,586 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:35:44,586 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:35:44,587 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/admin/**'
2018-10-04 15:35:44,588 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 15:35:44,589 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@6ba335b7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:35:44,591 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@410859aa, returned: 1
2018-10-04 15:35:44,592 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:35:44,593 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:35:44,595 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 15:35:44,596 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10011]
2018-10-04 15:35:44,597 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants/10011
2018-10-04 15:35:44,606 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants/10011]
2018-10-04 15:35:44,607 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants/10011] are [/**]
2018-10-04 15:35:44,608 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants/10011] are {}
2018-10-04 15:35:44,609 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants/10011] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@2438b274] and 1 interceptor
2018-10-04 15:35:44,610 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10011] is: -1
2018-10-04 15:35:44,611 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@7d9cd052
2018-10-04 15:35:44,612 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:35:44,612 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:35:44,613 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:35:44,614 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:44:07,465 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:35:34 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:29,868 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 15:44:30,024 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 15:44:30 MSK 2018]; root of context hierarchy
2018-10-04 15:44:30,219 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 15:44:30,332 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 15:44:30,420 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 15:44:30,530 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:44:30,616 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 15:44:30,618 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 15:44:30,663 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 15:44:30,880 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 15:44:33,081 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 15:44:33,086 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 15:44:33,153 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:44:33,155 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:44:33,193 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 15:44:33,193 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 15:44:33,243 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 15:44:33,287 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 15:44:33,442 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 15:44:33,774 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 15:44:33,783 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 15:44:34,234 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 15:44:35,671 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 15:44:36,769 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 15:44:37,466 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:44:37,482 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 15:44:37,493 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:44:37,498 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 15:44:37,498 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 15:44:37,498 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 15:44:38,571 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 15:44:38,679 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 15:44:40,033 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 15:44:40,740 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 15:44:40,766 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 15:44:40,780 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:44:40,782 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@4f61ced9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1eea1dbb, org.springframework.security.web.header.HeaderWriterFilter@1fb78c15, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2084566f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@700c0fe5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d8bdf19, org.springframework.security.web.access.ExceptionTranslationFilter@3983706, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b00c014]
2018-10-04 15:44:41,188 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 15:44:41,188 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 0 ms.
2018-10-04 15:44:41,188 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 15:44:41,246 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 58 ms.
2018-10-04 15:44:41,399 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 11520 ms
2018-10-04 15:44:41,420 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 15:44:41,445 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 15:44:41,445 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 15:44:30 MSK 2018]; root of context hierarchy]
2018-10-04 15:44:41,461 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:41,461 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 15:44:41,668 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 15:44:41,671 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 15:44:42,877 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 15:44:42,905 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:42,906 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 15:44:42,906 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 15:44:42,907 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 15:44:42,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 15:44:42,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 15:44:42,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 15:44:42,910 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 15:44:42,911 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 15:44:42,911 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 15:44:42,912 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 15:44:42,913 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 15:44:42,914 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 15:44:42,915 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 15:44:42,917 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 15:44:42,917 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 15:44:42,918 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 15:44:42,919 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 15:44:42,920 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 15:44:42,920 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 15:44:42,926 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 15:44:42,928 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 15:44:42,929 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 15:44:42,930 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 15:44:42,931 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 15:44:42,931 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 15:44:42,932 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 15:44:42,933 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 15:44:42,934 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 15:44:42,934 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 15:44:42,935 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 15:44:42,936 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 15:44:42,936 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 15:44:42,937 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 15:44:42,937 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 15:44:42,938 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 15:44:42,938 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 15:44:42,939 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 15:44:42,940 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 15:44:42,940 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 15:44:42,941 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 15:44:42,941 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 15:44:42,942 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 15:44:42,942 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 15:44:42,943 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 15:44:42,943 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 15:44:43,032 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 15:44:43,296 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:43,390 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:44:43,392 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 15:44:43,400 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 15:44:43,402 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 15:44:43,404 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 15:44:43,413 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 15:44:43,415 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 15:44:43,416 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 15:44:43,421 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 15:44:43,424 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 15:44:43,425 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 15:44:43,446 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:44:43,448 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 15:44:43,451 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 15:44:43,454 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 15:44:43,458 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 15:44:43,459 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 15:44:43,459 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 15:44:43,475 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 15:44:43,475 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:44:43,480 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 15:44:43,482 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:44:43,483 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 15:44:43,492 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 15:44:43,493 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 15:44:43,494 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 15:44:43,495 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 15:44:43,496 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 15:44:43,860 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:43,998 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:44,029 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 15:44:44,031 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 15:44:44,187 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 15:44:44,193 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:44:44,440 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 15:44:44,441 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:44:44,443 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 15:44:44,444 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:44:44,451 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 15:44:44,453 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:44:44,454 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 15:44:44,490 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:44:44,491 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 15:44:44,494 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 15:44:44,624 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 15:44:44,625 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@670b894a]
2018-10-04 15:44:44,629 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@1b3e18fb]
2018-10-04 15:44:44,662 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@58f597b4]
2018-10-04 15:44:44,718 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 15:44:44,746 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@3d97ed96]
2018-10-04 15:44:44,748 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 15:44:44,749 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 3304 ms
2018-10-04 15:44:44,749 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 15:44:45,163 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:44:45,168 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:44:45,176 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:44:45,181 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:44:45,181 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:44:45,181 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:44:45,181 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:44:45,197 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e355a44: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:44:45,197 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:44:45,197 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:44:45,197 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:44:45,197 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:44:45,197 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@e355a44: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:44:45,227 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: -1
2018-10-04 15:44:45,238 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:44:45,250 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:44:45,251 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:44:45,251 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:44:45,265 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 15:44:45,265 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:44:45,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:44:45,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:44:45,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:44:45,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:44:45,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:44:45,267 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@e355a44: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 15:44:45,267 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:44:45,267 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:44:45,267 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 15:44:45,267 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 15:44:45,267 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@e355a44: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 15:44:45,267 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: -1
2018-10-04 15:44:45,267 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 15:44:45,267 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 15:44:45,267 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:44:45,267 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:44:45,785 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 15:44:45,785 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:44:45,787 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:44:45,787 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:44:45,787 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:44:45,788 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:44:45,794 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:44:46,738 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:44:46,739 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:44:46,739 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:44:46,739 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:44:46,739 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:44:46,740 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:44:46,740 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 15:44:46,740 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 15:44:46,741 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:44:46,741 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: 1
2018-10-04 15:44:46,742 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:44:46,742 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:44:46,743 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 15:44:46,768 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 15:44:46,773 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/
2018-10-04 15:44:46,819 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/]
2018-10-04 15:44:46,824 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/] are [/**]
2018-10-04 15:44:46,830 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/] are {}
2018-10-04 15:44:46,834 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@55081191] and 1 interceptor
2018-10-04 15:44:46,842 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 15:44:46,857 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:44:46,858 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:44:46,859 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:44:46,861 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:44:46,862 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:44:51,334 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/resources/**'
2018-10-04 15:44:51,335 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:44:51,335 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:44:51,335 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:44:51,335 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:44:51,336 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:44:51,336 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:44:51,378 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:44:51,379 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:44:51,379 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:44:51,381 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:44:51,383 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:44:51,383 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:44:51,387 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/admin/**'
2018-10-04 15:44:51,387 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 15:44:51,387 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:44:51,388 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: 1
2018-10-04 15:44:51,388 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:44:51,391 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:44:51,391 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 15:44:51,392 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10011]
2018-10-04 15:44:51,393 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants/10011
2018-10-04 15:44:51,403 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants/10011]
2018-10-04 15:44:51,419 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants/10011] are [/**]
2018-10-04 15:44:51,419 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants/10011] are {}
2018-10-04 15:44:51,420 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants/10011] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@55081191] and 1 interceptor
2018-10-04 15:44:51,420 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10011] is: -1
2018-10-04 15:44:51,420 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:44:51,420 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:44:51,420 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:44:51,421 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:44:51,421 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:45:23,468 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/resources/**'
2018-10-04 15:45:23,468 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:45:23,469 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:45:23,469 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:45:23,469 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:45:23,469 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:45:23,470 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:45:23,601 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:45:23,602 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:45:23,602 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:45:23,602 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:45:23,602 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:45:23,602 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:45:23,603 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/admin/**'
2018-10-04 15:45:23,603 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants; Attributes: [isAuthenticated()]
2018-10-04 15:45:23,603 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:45:23,603 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: 1
2018-10-04 15:45:23,603 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:45:23,603 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:45:23,604 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 15:45:23,604 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 15:45:23,604 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants
2018-10-04 15:45:23,609 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants]
2018-10-04 15:45:23,610 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants] are [/**]
2018-10-04 15:45:23,610 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants] are {}
2018-10-04 15:45:23,611 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@55081191] and 1 interceptor
2018-10-04 15:45:23,611 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 15:45:23,611 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:45:23,612 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:45:23,612 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:45:23,612 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:45:23,612 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:45:28,606 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/profile'; against '/resources/**'
2018-10-04 15:45:28,607 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:45:28,607 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:45:28,607 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:45:28,607 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:45:28,607 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:45:28,607 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:45:28,653 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:45:28,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:45:28,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:45:28,654 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:45:28,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:45:28,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:45:28,654 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/profile'; against '/admin/**'
2018-10-04 15:45:28,655 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/profile; Attributes: [isAuthenticated()]
2018-10-04 15:45:28,655 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:45:28,655 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: 1
2018-10-04 15:45:28,655 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:45:28,655 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:45:28,655 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/profile reached end of additional filter chain; proceeding with original chain
2018-10-04 15:45:28,656 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 15:45:28,656 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/profile
2018-10-04 15:45:28,657 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/profile]
2018-10-04 15:45:28,659 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/profile] are [/**]
2018-10-04 15:45:28,659 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/profile] are {}
2018-10-04 15:45:28,660 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/profile] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@55081191] and 1 interceptor
2018-10-04 15:45:28,660 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 15:45:28,661 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:45:28,661 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:45:28,662 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:45:28,662 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:45:28,662 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:52:42,530 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/profile'; against '/resources/**'
2018-10-04 15:52:42,530 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 15:52:42,530 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 15:52:42,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 15:52:42,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 15:52:42,531 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 15:52:42,531 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 15:52:42,651 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:52:42,653 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 15:52:42,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 15:52:42,655 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 15:52:42,655 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 15:52:42,656 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 15:52:42,657 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/profile'; against '/admin/**'
2018-10-04 15:52:42,658 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/profile; Attributes: [isAuthenticated()]
2018-10-04 15:52:42,659 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 15:52:42,660 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@22fc8a98, returned: 1
2018-10-04 15:52:42,661 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 15:52:42,662 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 15:52:42,663 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/profile reached end of additional filter chain; proceeding with original chain
2018-10-04 15:52:42,664 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 15:52:42,666 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/profile
2018-10-04 15:52:42,675 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/profile]
2018-10-04 15:52:42,677 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/profile] are [/**]
2018-10-04 15:52:42,677 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/profile] are {}
2018-10-04 15:52:42,678 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/profile] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@55081191] and 1 interceptor
2018-10-04 15:52:42,678 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 15:52:42,679 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@5e27f788
2018-10-04 15:52:42,681 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 15:52:42,682 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 15:52:42,683 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 15:52:42,684 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 15:54:20,889 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 15:44:41 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:13:54,587 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 16:13:54,738 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 16:13:54 MSK 2018]; root of context hierarchy
2018-10-04 16:13:54,953 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 16:13:55,086 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 16:13:55,201 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 16:13:55,251 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:13:55,336 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 16:13:55,338 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 16:13:55,388 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 16:13:55,602 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 16:13:57,484 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 16:13:57,491 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 16:13:57,549 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:13:57,551 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:13:57,580 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:13:57,596 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:13:57,632 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 16:13:57,688 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 16:13:57,810 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 16:13:58,022 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 16:13:58,024 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 16:13:58,393 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 16:13:59,616 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 16:14:00,731 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 16:14:01,498 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:14:01,502 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 16:14:01,525 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:14:01,528 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 16:14:01,529 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:14:01,533 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 16:14:02,499 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 16:14:02,617 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 16:14:03,834 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 16:14:04,560 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 16:14:04,568 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 16:14:04,584 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:14:04,587 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@78ad78c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c5a9b70, org.springframework.security.web.header.HeaderWriterFilter@7bcc8862, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3210396c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67c90bad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e79048c, org.springframework.security.web.access.ExceptionTranslationFilter@242466fc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4398139f]
2018-10-04 16:14:04,859 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 16:14:04,883 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 24 ms.
2018-10-04 16:14:04,884 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 16:14:04,899 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 15 ms.
2018-10-04 16:14:05,090 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 10479 ms
2018-10-04 16:14:05,108 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 16:14:05,132 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 16:14:05,132 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 16:13:54 MSK 2018]; root of context hierarchy]
2018-10-04 16:14:05,139 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:14:05,139 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 16:14:05,246 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:14:05,256 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 16:14:06,332 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 16:14:06,354 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 16:14:06,370 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 16:14:06,370 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 16:14:06,371 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 16:14:06,371 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 16:14:06,372 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 16:14:06,372 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:14:06,373 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 16:14:06,374 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:14:06,374 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 16:14:06,375 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 16:14:06,375 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 16:14:06,376 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 16:14:06,377 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 16:14:06,377 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 16:14:06,378 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 16:14:06,378 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 16:14:06,379 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 16:14:06,380 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 16:14:06,380 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 16:14:06,381 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 16:14:06,382 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 16:14:06,382 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 16:14:06,383 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 16:14:06,383 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 16:14:06,384 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 16:14:06,401 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 16:14:06,402 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 16:14:06,403 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 16:14:06,472 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:14:06,537 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:14:06,588 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:14:06,588 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 16:14:06,588 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:14:06,588 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:14:06,588 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:14:06,604 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 16:14:06,608 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:14:06,610 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:14:06,611 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 16:14:06,613 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:14:06,614 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 16:14:06,622 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:14:06,623 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 16:14:06,625 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 16:14:06,626 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 16:14:06,629 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 16:14:06,630 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 16:14:06,631 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 16:14:06,636 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 16:14:06,637 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:14:06,638 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 16:14:06,639 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:14:06,640 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:14:06,645 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:14:06,647 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 16:14:06,648 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 16:14:06,650 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 16:14:06,651 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 16:14:06,904 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:14:07,021 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:14:07,065 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:14:07,068 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 16:14:07,103 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:14:07,107 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:14:07,316 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:14:07,317 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:14:07,320 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:14:07,321 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:14:07,322 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:14:07,323 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:14:07,324 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:14:07,324 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:14:07,325 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:14:07,326 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:14:07,410 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 16:14:07,410 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@8e06a54]
2018-10-04 16:14:07,419 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@227a82da]
2018-10-04 16:14:07,438 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@14c9076a]
2018-10-04 16:14:07,468 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 16:14:07,491 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@675b85c0]
2018-10-04 16:14:07,493 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 16:14:07,493 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2361 ms
2018-10-04 16:14:07,493 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 16:14:07,857 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:14:07,860 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:14:07,865 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:14:07,868 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:14:07,874 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:14:07,874 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:14:07,879 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:14:07,881 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@3600701c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:14:07,882 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:14:07,882 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:14:07,884 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:14:07,884 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:14:07,885 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@3600701c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:14:07,917 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1106bb55, returned: -1
2018-10-04 16:14:07,925 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:14:07,938 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:14:07,939 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3561570f
2018-10-04 16:14:07,940 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:14:07,993 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:14:07,993 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:14:07,995 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:14:07,995 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:14:07,995 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:14:07,996 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:14:07,996 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:14:07,996 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@3600701c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:14:07,996 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:14:07,998 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:14:07,998 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:14:07,998 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:14:07,998 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@3600701c: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:14:07,999 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1106bb55, returned: -1
2018-10-04 16:14:08,001 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:14:08,007 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:14:08,007 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3561570f
2018-10-04 16:14:08,007 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:14:08,264 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:14:08,265 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:14:08,269 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:14:08,269 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:14:08,269 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:14:08,273 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:14:08,274 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:14:09,272 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:14:09,272 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:14:09,272 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:14:09,273 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:14:09,273 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:14:09,274 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:14:09,275 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:14:09,276 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:14:09,279 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:14:09,280 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1106bb55, returned: 1
2018-10-04 16:14:09,281 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:14:09,281 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:14:09,283 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 16:14:09,304 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 16:14:09,308 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/
2018-10-04 16:14:09,346 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/]
2018-10-04 16:14:09,353 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/] are [/**]
2018-10-04 16:14:09,356 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/] are {}
2018-10-04 16:14:09,363 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@20627361] and 1 interceptor
2018-10-04 16:14:09,368 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 16:14:09,383 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3561570f
2018-10-04 16:14:09,386 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:14:09,387 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:14:09,390 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:14:09,393 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:15:30,077 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/profile'; against '/resources/**'
2018-10-04 16:15:30,077 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:15:30,077 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:15:30,077 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:15:30,077 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:15:30,078 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:15:30,078 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:15:30,109 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:15:30,109 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:15:30,109 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:15:30,109 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:15:30,109 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:15:30,109 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:15:30,109 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/profile'; against '/admin/**'
2018-10-04 16:15:30,109 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/profile; Attributes: [isAuthenticated()]
2018-10-04 16:15:30,109 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:15:30,109 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1106bb55, returned: 1
2018-10-04 16:15:30,109 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:15:30,109 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:15:30,109 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/profile reached end of additional filter chain; proceeding with original chain
2018-10-04 16:15:30,109 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 16:15:30,109 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/profile
2018-10-04 16:15:30,109 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/profile]
2018-10-04 16:15:30,124 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/profile] are [/**]
2018-10-04 16:15:30,125 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/profile] are {}
2018-10-04 16:15:30,125 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/profile] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@20627361] and 1 interceptor
2018-10-04 16:15:30,126 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 16:15:30,127 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3561570f
2018-10-04 16:15:30,127 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:15:30,127 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:15:30,128 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:15:30,128 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:16:16,247 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 16:16:16,248 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:16:16,248 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:16:16,248 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:16:16,249 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:16:16,249 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:16:16,249 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:16:16,372 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:16:16,373 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:16:16,373 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:16:16,374 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:16:16,374 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:16:16,375 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:16:16,375 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 16:16:16,376 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:16:16,376 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:16:16,377 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1106bb55, returned: 1
2018-10-04 16:16:16,378 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:16:16,378 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:16:16,378 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:16:16,379 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants]
2018-10-04 16:16:16,380 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 16:16:16,429 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 16:16:16,431 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants] is: -1
2018-10-04 16:16:16,481 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 16:16:17,068 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3561570f
2018-10-04 16:16:17,068 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@2f08c288, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@7b85828b, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@1dbdeb5f, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@766beac8, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@1f9e7a0f]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@4967be5d]
2018-10-04 16:16:17,069 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:16:17,070 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:16:17,070 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:16:17,070 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:18:49,183 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 16:18:49,184 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:18:49,184 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:18:49,184 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:18:49,184 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:18:49,184 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:18:49,184 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:18:49,306 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:18:49,307 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:18:49,308 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:18:49,309 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:18:49,309 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:18:49,310 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:18:49,310 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 16:18:49,312 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 16:18:49,312 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4e316cd1: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:18:49,312 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1106bb55, returned: 1
2018-10-04 16:18:49,312 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:18:49,312 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:18:49,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 16:18:49,312 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants/10011]
2018-10-04 16:18:49,312 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 16:18:49,312 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 16:18:49,312 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants/10011] is: -1
2018-10-04 16:18:49,392 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10011
2018-10-04 16:18:49,544 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3561570f
2018-10-04 16:18:49,545 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@297962f1] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@4967be5d]
2018-10-04 16:18:49,545 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:18:49,546 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:18:49,546 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:18:49,546 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:20:44,494 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:14:05 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:02,679 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 16:21:02,823 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 16:21:02 MSK 2018]; root of context hierarchy
2018-10-04 16:21:03,012 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 16:21:03,126 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 16:21:03,259 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 16:21:03,323 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:21:03,424 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 16:21:03,426 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 16:21:03,475 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 16:21:03,674 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 16:21:05,780 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 16:21:05,787 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 16:21:05,845 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:21:05,847 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:21:05,892 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:21:05,893 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:21:05,945 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 16:21:05,986 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 16:21:06,115 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 16:21:06,344 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 16:21:06,347 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 16:21:06,735 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 16:21:07,948 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 16:21:08,965 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 16:21:09,576 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:21:09,591 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 16:21:09,591 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:21:09,591 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 16:21:09,591 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:21:09,611 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 16:21:10,506 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 16:21:10,623 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 16:21:11,902 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 16:21:12,634 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 16:21:12,634 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 16:21:12,650 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:21:12,656 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@4d7463c6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a1cc76, org.springframework.security.web.header.HeaderWriterFilter@56cdb38c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@dcac720, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@429b3c1a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5be1850c, org.springframework.security.web.access.ExceptionTranslationFilter@1b672b96, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@42952fbf]
2018-10-04 16:21:13,033 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 16:21:13,052 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 19 ms.
2018-10-04 16:21:13,053 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 16:21:13,067 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 14 ms.
2018-10-04 16:21:13,295 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 10607 ms
2018-10-04 16:21:13,314 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 16:21:13,360 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 16:21:13,361 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 16:21:02 MSK 2018]; root of context hierarchy]
2018-10-04 16:21:13,372 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:13,373 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 16:21:13,498 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:21:13,509 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 16:21:14,677 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 16:21:14,707 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:14,708 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 16:21:14,708 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 16:21:14,709 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 16:21:14,709 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 16:21:14,709 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 16:21:14,710 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 16:21:14,710 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 16:21:14,710 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 16:21:14,711 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 16:21:14,711 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 16:21:14,711 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 16:21:14,712 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 16:21:14,712 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 16:21:14,712 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 16:21:14,714 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 16:21:14,730 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 16:21:14,730 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 16:21:14,731 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 16:21:14,732 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 16:21:14,733 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 16:21:14,734 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 16:21:14,735 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 16:21:14,736 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:21:14,736 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 16:21:14,737 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:21:14,739 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 16:21:14,740 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 16:21:14,741 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 16:21:14,743 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 16:21:14,744 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 16:21:14,744 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 16:21:14,745 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 16:21:14,746 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 16:21:14,747 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 16:21:14,748 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 16:21:14,749 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 16:21:14,750 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 16:21:14,751 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 16:21:14,751 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 16:21:14,758 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 16:21:14,759 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 16:21:14,759 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 16:21:14,759 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 16:21:14,760 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 16:21:14,760 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 16:21:14,844 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:21:14,960 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:15,027 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:21:15,027 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 16:21:15,047 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:21:15,049 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:21:15,050 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:21:15,051 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 16:21:15,052 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:21:15,054 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 16:21:15,056 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:21:15,058 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:21:15,061 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 16:21:15,069 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:21:15,070 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 16:21:15,071 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 16:21:15,073 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 16:21:15,075 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 16:21:15,076 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 16:21:15,077 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 16:21:15,082 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 16:21:15,083 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:21:15,084 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 16:21:15,085 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:21:15,086 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:21:15,092 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:21:15,093 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 16:21:15,094 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 16:21:15,096 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 16:21:15,097 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 16:21:15,546 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:15,659 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:15,703 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:21:15,706 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 16:21:15,741 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:21:15,745 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:21:15,994 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:21:15,995 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:21:15,996 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:21:15,998 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:21:15,999 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:21:16,000 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:21:16,001 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:21:16,002 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:21:16,004 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:21:16,007 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:21:16,095 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 16:21:16,096 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@1b77c9c1]
2018-10-04 16:21:16,108 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@29a04e44]
2018-10-04 16:21:16,108 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1830c492]
2018-10-04 16:21:16,159 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 16:21:16,175 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@5d4ed180]
2018-10-04 16:21:16,176 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 16:21:16,178 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2817 ms
2018-10-04 16:21:16,180 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 16:21:16,789 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:21:16,789 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:16,805 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:16,812 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:16,818 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:16,819 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:16,822 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:16,824 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@7a2a507e: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:21:16,824 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:16,824 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:16,826 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:21:16,827 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:21:16,827 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@7a2a507e: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:21:16,848 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: -1
2018-10-04 16:21:16,855 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:21:16,871 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:21:16,871 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:16,872 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:21:16,892 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:21:16,892 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:16,893 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:16,893 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:16,894 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:16,894 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:16,894 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:16,895 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@7a2a507e: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:21:16,895 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:16,896 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:16,898 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:21:16,898 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:21:16,898 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@7a2a507e: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:21:16,899 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: -1
2018-10-04 16:21:16,900 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:21:16,904 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:21:16,905 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:16,905 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:21:17,090 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:21:17,090 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:17,091 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:17,091 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:17,091 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:17,092 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:21:17,093 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:21:18,292 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:18,293 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:18,294 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:18,297 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:21:18,298 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:18,298 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:18,299 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:21:18,299 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:21:18,299 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:18,300 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: 1
2018-10-04 16:21:18,300 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:21:18,300 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:21:18,301 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 16:21:18,302 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:18,303 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:21:18,303 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:21:30,347 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/resources/**'
2018-10-04 16:21:30,348 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:30,348 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:30,348 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:30,349 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:30,349 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:21:30,349 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:21:30,448 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:30,448 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:30,448 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:30,448 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:21:30,449 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:30,449 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:30,449 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/admin/**'
2018-10-04 16:21:30,449 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:21:30,449 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:30,449 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: 1
2018-10-04 16:21:30,450 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:21:30,450 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:21:30,450 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:21:30,450 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:30,451 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:21:30,451 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:21:41,029 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 16:21:41,029 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:41,029 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:41,029 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:41,029 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:41,029 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:21:41,029 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:21:41,072 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:41,072 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:41,072 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:41,073 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:21:41,073 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:41,073 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:41,073 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 16:21:41,073 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:21:41,073 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:41,073 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: 1
2018-10-04 16:21:41,074 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:21:41,074 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:21:41,074 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:21:41,074 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:41,074 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:21:41,075 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:21:56,311 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:21:56,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:56,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:56,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:56,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:56,312 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:21:56,312 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:21:56,443 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:56,445 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:56,445 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:56,445 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:21:56,446 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:56,446 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:56,447 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:21:56,447 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:21:56,447 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:21:56,448 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: 1
2018-10-04 16:21:56,448 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:21:56,448 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:21:56,448 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - / reached end of additional filter chain; proceeding with original chain
2018-10-04 16:21:56,450 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:56,451 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:21:56,451 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:21:56,596 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/favicon.ico'; against '/resources/**'
2018-10-04 16:21:56,597 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:21:56,598 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:21:56,598 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:21:56,598 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:21:56,599 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:21:56,599 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:21:56,599 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@7a263528: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:21:56,600 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:21:56,604 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /favicon.ico at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:21:56,605 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/favicon.ico'; against '/admin/**'
2018-10-04 16:21:56,606 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /favicon.ico; Attributes: [isAuthenticated()]
2018-10-04 16:21:56,606 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@7a263528: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:21:56,607 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: -1
2018-10-04 16:21:56,607 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:21:56,636 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:21:56,637 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:21:56,637 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:22:05,698 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 16:22:05,699 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:22:05,699 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:22:05,699 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:22:05,700 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:22:05,700 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:22:05,701 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:22:05,817 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:22:05,817 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:22:05,817 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:22:05,818 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:22:05,818 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:22:05,818 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:22:05,818 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 16:22:05,818 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:22:05,819 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:22:05,819 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: 1
2018-10-04 16:22:05,820 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:22:05,820 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:22:05,820 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:22:05,821 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:22:05,821 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:22:05,822 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:22:12,112 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/resources/**'
2018-10-04 16:22:12,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:22:12,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:22:12,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:22:12,113 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:22:12,113 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:22:12,113 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:22:12,151 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:22:12,152 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:22:12,152 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:22:12,152 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:22:12,152 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:22:12,152 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:22:12,152 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants/10011'; against '/admin/**'
2018-10-04 16:22:12,152 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 16:22:12,153 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7a247e31: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:22:12,153 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@1636c04f, returned: 1
2018-10-04 16:22:12,153 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:22:12,153 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:22:12,153 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 16:22:12,153 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:22:12,153 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:22:12,154 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:28:44,570 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:21:13 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:03,954 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 16:29:04,111 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 16:29:04 MSK 2018]; root of context hierarchy
2018-10-04 16:29:04,338 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 16:29:04,447 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 16:29:04,537 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 16:29:04,626 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:29:04,729 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 16:29:04,730 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 16:29:04,772 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 16:29:04,979 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 16:29:06,939 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 16:29:06,945 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 16:29:07,001 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:29:07,003 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:29:07,030 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:29:07,030 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:29:07,097 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 16:29:07,142 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 16:29:07,294 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 16:29:07,512 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 16:29:07,530 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 16:29:07,911 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 16:29:09,235 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 16:29:10,270 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 16:29:10,995 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:29:11,010 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 16:29:11,019 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:29:11,019 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 16:29:11,019 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:29:11,019 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 16:29:12,059 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 16:29:12,166 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 16:29:13,577 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 16:29:14,293 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 16:29:14,301 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 16:29:14,311 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:29:14,312 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@58bb364d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a03d6ae, org.springframework.security.web.header.HeaderWriterFilter@5c9002ed, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5f69c391, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c72ae36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66cbb7eb, org.springframework.security.web.access.ExceptionTranslationFilter@1cbe7df3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7495969d]
2018-10-04 16:29:14,791 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 16:29:14,791 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 0 ms.
2018-10-04 16:29:14,791 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 16:29:14,822 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 31 ms.
2018-10-04 16:29:15,061 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 11097 ms
2018-10-04 16:29:15,084 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 16:29:15,110 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 16:29:15,110 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 16:29:04 MSK 2018]; root of context hierarchy]
2018-10-04 16:29:15,134 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:15,135 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 16:29:15,258 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:29:15,274 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 16:29:16,370 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 16:29:16,396 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 16:29:16,411 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 16:29:16,430 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 16:29:16,431 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 16:29:16,431 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 16:29:16,432 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 16:29:16,432 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 16:29:16,433 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 16:29:16,434 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 16:29:16,434 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 16:29:16,532 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:29:16,614 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:16,706 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:29:16,708 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 16:29:16,717 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:29:16,721 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:29:16,723 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:29:16,725 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 16:29:16,726 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:29:16,728 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:29:16,730 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 16:29:16,733 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:29:16,735 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 16:29:16,744 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:29:16,745 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 16:29:16,746 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 16:29:16,749 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 16:29:16,752 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 16:29:16,753 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 16:29:16,754 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 16:29:16,759 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 16:29:16,760 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:29:16,762 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 16:29:16,763 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:29:16,764 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:29:16,769 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:29:16,770 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 16:29:16,771 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 16:29:16,773 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 16:29:16,774 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 16:29:17,106 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:17,240 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:17,270 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:29:17,270 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 16:29:17,309 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:29:17,322 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:29:17,543 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:29:17,544 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:29:17,545 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:29:17,549 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:29:17,550 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:29:17,552 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:29:17,553 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:29:17,554 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:29:17,555 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:29:17,556 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:29:17,658 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 16:29:17,658 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@1fb42536]
2018-10-04 16:29:17,668 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@1af2419]
2018-10-04 16:29:17,668 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@20b75e7f]
2018-10-04 16:29:17,731 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 16:29:17,750 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@4c66c8e2]
2018-10-04 16:29:17,750 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 16:29:17,750 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2640 ms
2018-10-04 16:29:17,750 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 16:29:18,057 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:29:18,065 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:18,074 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:18,084 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:18,093 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:18,093 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:18,101 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:18,101 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@bb945748: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:29:18,101 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:18,101 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:18,101 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:29:18,101 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:29:18,101 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@bb945748: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:29:18,132 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: -1
2018-10-04 16:29:18,140 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:29:18,156 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:29:18,157 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:18,158 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:29:18,177 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:29:18,177 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:18,177 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:18,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:18,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:18,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:18,179 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:18,179 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@bb945748: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:29:18,179 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:18,179 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:18,180 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:29:18,180 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:29:18,180 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@bb945748: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:29:18,188 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: -1
2018-10-04 16:29:18,189 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:29:18,200 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:29:18,201 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:18,201 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:29:18,513 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:29:18,514 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:18,515 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:18,516 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:18,516 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:18,522 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:29:18,524 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:29:19,633 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:19,633 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:19,633 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:19,634 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:29:19,634 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:19,634 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:19,634 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:29:19,635 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:29:19,635 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:19,635 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: 1
2018-10-04 16:29:19,636 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:29:19,636 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:29:19,636 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 16:29:19,652 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 16:29:19,655 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/
2018-10-04 16:29:19,703 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/]
2018-10-04 16:29:19,706 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/] are [/**]
2018-10-04 16:29:19,710 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/] are {}
2018-10-04 16:29:19,721 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@6176883e] and 1 interceptor
2018-10-04 16:29:19,723 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 16:29:19,750 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:19,751 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:29:19,752 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:29:19,753 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:29:19,753 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:29:28,538 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/admin/favicon.ico'; against '/resources/**'
2018-10-04 16:29:28,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:28,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:28,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:28,540 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:28,540 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:28,540 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:28,540 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@bb903bf2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:29:28,540 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:28,540 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/admin/favicon.ico at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:28,541 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/admin/favicon.ico'; against '/admin/**'
2018-10-04 16:29:28,541 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/admin/favicon.ico; Attributes: [isAuthenticated()]
2018-10-04 16:29:28,541 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@bb903bf2: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:29:28,541 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: -1
2018-10-04 16:29:28,542 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:29:28,545 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:29:28,545 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:28,546 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:29:33,577 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/resources/**'
2018-10-04 16:29:33,578 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:33,578 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:33,579 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:33,580 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:33,580 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:29:33,581 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:29:33,706 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:33,708 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:33,708 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:33,708 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:29:33,709 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:33,709 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:33,709 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/admin/**'
2018-10-04 16:29:33,710 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:29:33,710 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:33,711 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: 1
2018-10-04 16:29:33,711 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:29:33,711 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:29:33,712 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:29:33,712 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 16:29:33,713 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants
2018-10-04 16:29:33,731 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants]
2018-10-04 16:29:33,731 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants] are [/**]
2018-10-04 16:29:33,732 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants] are {}
2018-10-04 16:29:33,732 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@6176883e] and 1 interceptor
2018-10-04 16:29:33,732 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 16:29:33,733 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:33,734 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:29:33,734 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:29:33,735 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:29:33,736 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:29:39,512 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/resources/**'
2018-10-04 16:29:39,512 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:39,513 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:39,513 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:39,513 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:39,513 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:29:39,514 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:29:39,657 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:39,657 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:39,657 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:39,657 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:29:39,657 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:39,657 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:39,657 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/admin/**'
2018-10-04 16:29:39,657 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:29:39,657 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:39,657 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: 1
2018-10-04 16:29:39,657 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:29:39,657 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:29:39,657 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:29:39,657 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 16:29:39,657 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants
2018-10-04 16:29:39,657 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants]
2018-10-04 16:29:39,673 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants] are [/**]
2018-10-04 16:29:39,673 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants] are {}
2018-10-04 16:29:39,673 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@6176883e] and 1 interceptor
2018-10-04 16:29:39,673 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 16:29:39,673 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:39,673 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:29:39,673 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:29:39,673 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:29:39,673 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:29:46,970 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 16:29:46,970 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:29:46,970 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:29:46,971 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:29:46,971 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:29:46,971 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:29:46,972 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:29:47,071 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:47,071 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:29:47,071 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:29:47,071 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:29:47,071 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:29:47,071 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:29:47,071 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 16:29:47,071 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:29:47,071 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a333bb7: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:29:47,071 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7131b409, returned: 1
2018-10-04 16:29:47,071 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:29:47,071 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:29:47,071 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:29:47,087 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants]
2018-10-04 16:29:47,088 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 16:29:47,123 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 16:29:47,124 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants] is: -1
2018-10-04 16:29:47,180 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 16:29:47,787 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@4afe9c30
2018-10-04 16:29:47,789 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@2f262a6c, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@121f35a0, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@1a710f1a, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@65a11ab9, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@7b4a392b]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@28fd5baa]
2018-10-04 16:29:47,790 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:29:47,790 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:29:47,791 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:29:47,791 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:30:05,113 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:29:15 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:42,055 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 16:41:42,257 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 16:41:42 MSK 2018]; root of context hierarchy
2018-10-04 16:41:42,368 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 16:41:42,481 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 16:41:42,620 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 16:41:42,668 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:41:42,782 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 16:41:42,785 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 16:41:42,873 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 16:41:43,145 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 16:41:45,246 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 16:41:45,254 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 16:41:45,313 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:41:45,313 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:41:45,430 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:41:45,430 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:41:45,490 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 16:41:45,548 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 16:41:45,603 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 16:41:45,863 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 16:41:45,866 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 16:41:46,271 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 16:41:47,627 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 16:41:48,954 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 16:41:49,786 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:41:49,803 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 16:41:49,816 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:41:49,821 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 16:41:49,825 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:41:49,830 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 16:41:50,854 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 16:41:50,965 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 16:41:52,510 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 16:41:53,295 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 16:41:53,303 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 16:41:53,309 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:41:53,309 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@78859d22, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10f5a261, org.springframework.security.web.header.HeaderWriterFilter@6868c6b5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4161073d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5abdd2ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b13ed35, org.springframework.security.web.access.ExceptionTranslationFilter@4270f6b7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b9ab0ec]
2018-10-04 16:41:53,698 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 16:41:53,718 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 20 ms.
2018-10-04 16:41:53,719 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 16:41:53,743 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 23 ms.
2018-10-04 16:41:54,096 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 12033 ms
2018-10-04 16:41:54,120 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 16:41:54,162 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 16:41:54,162 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 16:41:42 MSK 2018]; root of context hierarchy]
2018-10-04 16:41:54,173 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:54,177 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 16:41:54,487 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:41:54,511 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 16:41:55,679 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 16:41:55,702 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 16:41:55,718 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 16:41:55,733 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 16:41:55,734 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 16:41:55,735 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 16:41:55,735 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 16:41:55,736 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 16:41:55,736 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 16:41:55,737 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 16:41:55,737 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 16:41:55,738 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 16:41:55,739 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 16:41:55,739 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 16:41:55,840 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:41:55,932 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:56,015 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:41:56,017 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 16:41:56,023 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:41:56,024 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:41:56,026 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:41:56,027 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 16:41:56,028 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:41:56,029 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:41:56,031 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 16:41:56,032 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 16:41:56,034 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:41:56,047 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:41:56,048 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 16:41:56,049 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 16:41:56,049 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 16:41:56,052 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 16:41:56,053 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 16:41:56,055 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 16:41:56,059 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 16:41:56,059 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:41:56,062 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 16:41:56,063 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:41:56,064 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:41:56,068 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:41:56,068 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 16:41:56,068 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 16:41:56,068 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 16:41:56,068 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 16:41:56,416 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:56,549 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:56,586 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:41:56,588 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 16:41:56,622 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:41:56,625 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:41:56,873 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:41:56,874 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:41:56,875 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:41:56,875 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:41:56,876 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:41:56,877 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:41:56,878 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:41:56,879 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:41:56,881 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:41:56,881 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:41:56,975 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 16:41:56,975 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@5e9caaaa]
2018-10-04 16:41:56,982 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@50253324]
2018-10-04 16:41:57,009 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7fea5893]
2018-10-04 16:41:57,056 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 16:41:57,074 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@3d05207d]
2018-10-04 16:41:57,075 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 16:41:57,075 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2913 ms
2018-10-04 16:41:57,079 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 16:41:57,430 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:41:57,430 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:41:57,430 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:41:57,430 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:41:57,446 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:41:57,446 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:41:57,446 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:41:57,455 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@4cc068d4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:41:57,456 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:41:57,456 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:41:57,458 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:41:57,458 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:41:57,459 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@4cc068d4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:41:57,486 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: -1
2018-10-04 16:41:57,496 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:41:57,513 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:41:57,513 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:41:57,513 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:41:57,535 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:41:57,536 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:41:57,536 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:41:57,537 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:41:57,537 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:41:57,538 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:41:57,538 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:41:57,538 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@4cc068d4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:41:57,538 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:41:57,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:41:57,539 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:41:57,539 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:41:57,539 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@4cc068d4: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:41:57,544 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: -1
2018-10-04 16:41:57,545 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:41:57,552 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:41:57,552 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:41:57,553 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:41:57,875 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/resources/**'
2018-10-04 16:41:57,876 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:41:57,877 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:41:57,877 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:41:57,877 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:41:57,886 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:41:57,889 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:41:58,740 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:41:58,741 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:41:58,741 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:41:58,741 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:41:58,741 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:41:58,742 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:41:58,742 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/'; against '/admin/**'
2018-10-04 16:41:58,742 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/; Attributes: [isAuthenticated()]
2018-10-04 16:41:58,742 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:41:58,743 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: 1
2018-10-04 16:41:58,745 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:41:58,759 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:41:58,759 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/ reached end of additional filter chain; proceeding with original chain
2018-10-04 16:41:58,788 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 16:41:58,791 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/
2018-10-04 16:41:58,834 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/]
2018-10-04 16:41:58,836 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/] are [/**]
2018-10-04 16:41:58,846 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/] are {}
2018-10-04 16:41:58,849 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@48c28d90] and 1 interceptor
2018-10-04 16:41:58,853 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 16:41:58,861 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:41:58,862 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:41:58,864 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:41:58,865 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:41:58,865 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:42:04,232 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/resources/**'
2018-10-04 16:42:04,232 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:42:04,232 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:42:04,232 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:42:04,232 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:42:04,232 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:42:04,232 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:42:04,272 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:42:04,272 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:42:04,272 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:42:04,272 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:42:04,273 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:42:04,273 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter/restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:42:04,273 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter/restaurants'; against '/admin/**'
2018-10-04 16:42:04,273 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter/restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:42:04,273 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:42:04,273 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: 1
2018-10-04 16:42:04,273 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:42:04,274 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:42:04,274 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter/restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:42:04,274 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 16:42:04,274 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter/restaurants
2018-10-04 16:42:04,277 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter/restaurants]
2018-10-04 16:42:04,278 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter/restaurants] are [/**]
2018-10-04 16:42:04,278 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter/restaurants] are {}
2018-10-04 16:42:04,278 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter/restaurants] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@48c28d90] and 1 interceptor
2018-10-04 16:42:04,279 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 16:42:04,279 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:42:04,280 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:42:04,280 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:42:04,280 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:42:04,280 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:42:21,008 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 16:42:21,008 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:42:21,008 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:42:21,009 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:42:21,009 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:42:21,009 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:42:21,009 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:42:21,137 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:42:21,138 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:42:21,139 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:42:21,139 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:42:21,140 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:42:21,140 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:42:21,141 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 16:42:21,142 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:42:21,143 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:42:21,144 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: 1
2018-10-04 16:42:21,145 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:42:21,146 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:42:21,147 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:42:21,149 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants]
2018-10-04 16:42:21,149 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 16:42:21,194 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 16:42:21,197 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants] is: -1
2018-10-04 16:42:21,262 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 16:42:21,899 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:42:21,899 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@5b0f8990, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@6516bf86, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@12e15174, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@599a5793, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@7e7e0639]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@15bd31f2]
2018-10-04 16:42:21,899 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:42:21,899 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:42:21,899 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:42:21,899 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:48:00,575 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 16:48:00,576 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:48:00,576 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:48:00,576 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:48:00,576 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:48:00,577 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:48:00,577 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:48:00,693 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:48:00,694 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:48:00,694 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:48:00,695 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:48:00,696 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:48:00,697 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:48:00,698 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 16:48:00,698 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 16:48:00,699 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:48:00,701 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: 1
2018-10-04 16:48:00,702 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:48:00,703 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:48:00,703 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 16:48:00,704 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants]
2018-10-04 16:48:00,705 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 16:48:00,707 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 16:48:00,708 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants] is: -1
2018-10-04 16:48:00,708 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 16:48:01,100 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:48:01,100 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@20be1e2c, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@7514a748, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@6e80d017, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@60333b03, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@30ac0657]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@15bd31f2]
2018-10-04 16:48:01,100 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:48:01,100 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:48:01,100 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:48:01,116 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:48:06,386 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/resources/**'
2018-10-04 16:48:06,386 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:48:06,386 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:48:06,386 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:48:06,386 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:48:06,387 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:48:06,387 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:48:06,500 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:48:06,500 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:48:06,500 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:48:06,500 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:48:06,500 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:48:06,500 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:48:06,500 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/admin/**'
2018-10-04 16:48:06,500 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10012; Attributes: [isAuthenticated()]
2018-10-04 16:48:06,500 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:48:06,500 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: 1
2018-10-04 16:48:06,500 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:48:06,500 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:48:06,500 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10012 reached end of additional filter chain; proceeding with original chain
2018-10-04 16:48:06,500 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants/10012]
2018-10-04 16:48:06,500 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10012
2018-10-04 16:48:06,500 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 16:48:06,516 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants/10012] is: -1
2018-10-04 16:48:06,576 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10012
2018-10-04 16:48:06,685 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:48:06,686 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@51b2ca63] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@15bd31f2]
2018-10-04 16:48:06,687 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:48:06,687 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:48:06,688 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:48:06,688 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:48:22,882 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10013'; against '/resources/**'
2018-10-04 16:48:22,883 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:48:22,883 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:48:22,883 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:48:22,883 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:48:22,883 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:48:22,883 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:48:23,006 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:48:23,006 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:48:23,006 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:48:23,007 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:48:23,007 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:48:23,007 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10013 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:48:23,007 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10013'; against '/admin/**'
2018-10-04 16:48:23,007 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10013; Attributes: [isAuthenticated()]
2018-10-04 16:48:23,007 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7e98d36c: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:48:23,008 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@7582f66f, returned: 1
2018-10-04 16:48:23,008 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:48:23,008 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:48:23,008 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10013 reached end of additional filter chain; proceeding with original chain
2018-10-04 16:48:23,008 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants/10013]
2018-10-04 16:48:23,009 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10013
2018-10-04 16:48:23,011 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 16:48:23,011 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants/10013] is: -1
2018-10-04 16:48:23,012 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10013
2018-10-04 16:48:23,112 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@780b8723
2018-10-04 16:48:23,114 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@2883695] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@15bd31f2]
2018-10-04 16:48:23,114 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:48:23,115 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:48:23,115 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:48:23,115 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:49:44,704 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:41:54 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:36,847 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 16:50:36,970 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 16:50:36 MSK 2018]; root of context hierarchy
2018-10-04 16:50:37,139 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 16:50:37,281 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 16:50:37,432 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 16:50:37,490 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:50:37,582 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 16:50:37,584 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 16:50:37,643 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 16:50:37,854 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 16:50:39,904 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 16:50:39,909 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 16:50:39,974 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:50:39,976 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:50:40,017 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 16:50:40,019 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 16:50:40,070 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 16:50:40,120 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 16:50:40,275 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 16:50:40,513 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 16:50:40,516 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 16:50:40,949 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 16:50:42,271 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 16:50:43,282 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 16:50:43,978 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:50:43,993 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 16:50:44,004 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:50:44,008 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 16:50:44,010 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 16:50:44,014 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 16:50:44,982 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 16:50:45,095 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 16:50:46,492 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 16:50:47,168 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 16:50:47,174 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 16:50:47,185 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:50:47,187 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@72913050, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fb5676d, org.springframework.security.web.header.HeaderWriterFilter@3efd6212, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@49200e4f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1606ae1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59ad1b4c, org.springframework.security.web.access.ExceptionTranslationFilter@2904dd3f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15a3118e]
2018-10-04 16:50:47,510 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 16:50:47,519 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 8 ms.
2018-10-04 16:50:47,520 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 16:50:47,536 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 16 ms.
2018-10-04 16:50:47,761 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 10907 ms
2018-10-04 16:50:47,777 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 16:50:47,805 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 16:50:47,805 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 16:50:36 MSK 2018]; root of context hierarchy]
2018-10-04 16:50:47,812 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:47,814 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 16:50:47,941 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 16:50:47,952 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 16:50:49,007 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 16:50:49,033 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:49,034 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 16:50:49,035 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 16:50:49,037 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 16:50:49,038 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 16:50:49,038 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 16:50:49,039 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 16:50:49,039 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 16:50:49,040 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 16:50:49,040 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 16:50:49,041 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 16:50:49,042 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 16:50:49,042 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 16:50:49,043 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 16:50:49,044 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 16:50:49,044 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 16:50:49,045 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 16:50:49,045 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 16:50:49,046 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 16:50:49,046 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 16:50:49,047 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 16:50:49,047 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 16:50:49,048 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 16:50:49,048 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:50:49,049 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 16:50:49,049 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 16:50:49,050 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 16:50:49,051 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 16:50:49,051 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 16:50:49,052 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 16:50:49,053 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 16:50:49,053 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 16:50:49,054 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 16:50:49,055 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 16:50:49,056 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 16:50:49,056 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 16:50:49,057 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 16:50:49,057 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 16:50:49,057 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 16:50:49,057 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 16:50:49,066 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 16:50:49,067 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 16:50:49,067 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 16:50:49,068 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 16:50:49,068 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 16:50:49,069 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 16:50:49,164 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 16:50:49,229 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:49,283 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:50:49,284 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 16:50:49,288 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:50:49,289 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:50:49,290 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:50:49,291 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 16:50:49,291 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:50:49,293 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 16:50:49,294 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:50:49,296 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 16:50:49,297 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:50:49,307 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:50:49,308 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 16:50:49,309 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 16:50:49,311 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 16:50:49,313 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 16:50:49,314 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 16:50:49,317 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 16:50:49,322 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 16:50:49,323 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:50:49,324 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 16:50:49,325 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:50:49,326 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 16:50:49,331 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 16:50:49,332 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 16:50:49,333 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 16:50:49,334 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 16:50:49,335 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 16:50:49,631 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:49,768 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:49,805 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 16:50:49,808 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 16:50:49,856 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 16:50:49,860 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:50:50,140 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 16:50:50,143 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:50:50,145 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 16:50:50,146 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:50:50,147 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 16:50:50,148 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:50:50,149 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 16:50:50,150 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:50:50,153 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 16:50:50,162 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 16:50:50,290 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 16:50:50,291 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@2fb06190]
2018-10-04 16:50:50,308 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@28a2f517]
2018-10-04 16:50:50,335 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5adfdba6]
2018-10-04 16:50:50,392 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 16:50:50,419 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@65ddf650]
2018-10-04 16:50:50,437 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 16:50:50,438 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2633 ms
2018-10-04 16:50:50,438 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 16:50:50,674 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter'; against '/resources/**'
2018-10-04 16:50:50,678 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:50:50,687 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:50:50,690 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:50:50,697 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:50:50,698 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:50:50,702 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:50:50,705 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@ad2b1ab6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:50:50,706 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:50:50,706 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:50:50,716 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter'; against '/admin/**'
2018-10-04 16:50:50,717 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter; Attributes: [isAuthenticated()]
2018-10-04 16:50:50,717 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@ad2b1ab6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:50:50,748 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@40149111, returned: -1
2018-10-04 16:50:50,763 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:50:50,802 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:50:50,803 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:50:50,804 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:50:50,852 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:50:50,853 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:50:50,854 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:50:50,855 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:50:50,855 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:50:50,855 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:50:50,855 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:50:50,856 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@ad2b1ab6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 16:50:50,856 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:50:50,857 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:50:50,858 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:50:50,858 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:50:50,858 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@ad2b1ab6: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 16:50:50,866 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@40149111, returned: -1
2018-10-04 16:50:50,868 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 16:50:50,871 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 16:50:50,871 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:50:50,872 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:50:51,131 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter'; against '/resources/**'
2018-10-04 16:50:51,131 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:50:51,133 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:50:51,135 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:50:51,136 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:50:51,138 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:50:51,139 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:50:52,227 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:50:52,227 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:50:52,227 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:50:52,228 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:50:52,228 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:50:52,229 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /lunchvoter at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:50:52,229 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/lunchvoter'; against '/admin/**'
2018-10-04 16:50:52,230 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /lunchvoter; Attributes: [isAuthenticated()]
2018-10-04 16:50:52,232 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:50:52,235 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@40149111, returned: 1
2018-10-04 16:50:52,236 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:50:52,240 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:50:52,241 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /lunchvoter reached end of additional filter chain; proceeding with original chain
2018-10-04 16:50:52,267 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter]
2018-10-04 16:50:52,270 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /lunchvoter
2018-10-04 16:50:52,306 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/lunchvoter]
2018-10-04 16:50:52,308 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/lunchvoter] are [/**]
2018-10-04 16:50:52,311 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/lunchvoter] are {}
2018-10-04 16:50:52,317 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/lunchvoter] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@4891ccfe] and 1 interceptor
2018-10-04 16:50:52,327 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter] is: -1
2018-10-04 16:50:52,342 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:50:52,344 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:50:52,345 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:50:52,346 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:50:52,346 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:51:06,339 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/'; against '/resources/**'
2018-10-04 16:51:06,339 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:51:06,341 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:51:06,342 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:51:06,343 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:51:06,343 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:51:06,343 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:51:06,459 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:51:06,460 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:51:06,460 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:51:06,460 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:51:06,460 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:51:06,460 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/ at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:51:06,461 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/'; against '/admin/**'
2018-10-04 16:51:06,461 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/; Attributes: [isAuthenticated()]
2018-10-04 16:51:06,461 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:51:06,461 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@40149111, returned: 1
2018-10-04 16:51:06,461 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:51:06,462 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:51:06,462 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/ reached end of additional filter chain; proceeding with original chain
2018-10-04 16:51:06,462 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/restaurants/]
2018-10-04 16:51:06,462 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/
2018-10-04 16:51:06,513 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 16:51:06,516 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/restaurants/] is: -1
2018-10-04 16:51:06,587 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 16:51:07,057 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:51:07,058 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@2f08c288, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@7b85828b, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@1dbdeb5f, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@766beac8, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@1f9e7a0f]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@6fbcc70b]
2018-10-04 16:51:07,059 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:51:07,060 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:51:07,060 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:51:07,061 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:57:36,530 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 16:57:36,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 16:57:36,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 16:57:36,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 16:57:36,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 16:57:36,531 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 16:57:36,531 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 16:57:36,640 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:57:36,641 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 16:57:36,641 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 16:57:36,641 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 16:57:36,641 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 16:57:36,641 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 16:57:36,641 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 16:57:36,642 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 16:57:36,642 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@23a2f7d2: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 16:57:36,642 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@40149111, returned: 1
2018-10-04 16:57:36,643 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 16:57:36,643 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 16:57:36,643 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - / reached end of additional filter chain; proceeding with original chain
2018-10-04 16:57:36,644 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/]
2018-10-04 16:57:36,644 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /
2018-10-04 16:57:36,669 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/]
2018-10-04 16:57:36,670 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/] are [/**]
2018-10-04 16:57:36,673 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/] are {}
2018-10-04 16:57:36,674 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@4891ccfe] and 1 interceptor
2018-10-04 16:57:36,675 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/] is: -1
2018-10-04 16:57:36,677 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@24362f69
2018-10-04 16:57:36,678 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 16:57:36,678 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 16:57:36,679 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 16:57:36,679 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 16:58:31,402 INFO  o.s.web.context.support.XmlWebApplicationContext.doClose:993 - Closing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 16:50:47 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:38,718 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:270 - Root WebApplicationContext: initialization started
2018-10-04 17:07:38,842 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing Root WebApplicationContext: startup date [Thu Oct 04 17:07:38 MSK 2018]; root of context hierarchy
2018-10-04 17:07:39,032 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-app.xml]
2018-10-04 17:07:39,159 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-tools.xml]
2018-10-04 17:07:39,345 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-security.xml]
2018-10-04 17:07:39,427 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 17:07:39,517 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'hasRole('ROLE_ADMIN')' for /admin/**
2018-10-04 17:07:39,518 INFO  o.s.s.c.h.FilterInvocationSecurityMetadataSourceParser.parseInterceptUrlsForFilterInvocationRequestMap:194 - Creating access control expression attribute 'isAuthenticated()' for /**
2018-10-04 17:07:39,563 INFO  o.s.s.config.http.HttpSecurityBeanDefinitionParser.checkFilterChainOrder:307 - Checking sorted filter chain: [Root bean: class [org.springframework.security.web.context.SecurityContextPersistenceFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 200, Root bean: class [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 400, Root bean: class [org.springframework.security.web.header.HeaderWriterFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 500, Root bean: class [org.springframework.security.web.authentication.www.BasicAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 1600, Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.security.config.http.HttpConfigurationBuilder$SecurityContextHolderAwareRequestFilterBeanFactory#0; factoryMethodName=getBean; initMethodName=null; destroyMethodName=null, order = 1800, Root bean: class [org.springframework.security.web.authentication.AnonymousAuthenticationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2100, Root bean: class [org.springframework.security.web.access.ExceptionTranslationFilter]; scope=; abstract=false; lazyInit=false; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null, order = 2300, <org.springframework.security.web.access.intercept.FilterSecurityInterceptor#0>, order = 2400]
2018-10-04 17:07:39,766 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-db.xml]
2018-10-04 17:07:41,793 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'menu' created in EhcacheManager.
2018-10-04 17:07:41,799 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'users' created in EhcacheManager.
2018-10-04 17:07:41,857 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 17:07:41,859 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 17:07:41,895 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=menu
2018-10-04 17:07:41,896 INFO  org.ehcache.jsr107.Eh107CacheManager.registerObject:378 - Registering Ehcache MBean javax.cache:type=CacheStatistics,CacheManager=file./D./projects/lunchvoter-backend/target/lunchvoter/WEB-INF/classes/cache/ehcache.xml,Cache=users
2018-10-04 17:07:41,941 INFO  o.s.jdbc.datasource.DriverManagerDataSource.setDriverClassName:133 - Loaded JDBC driver: org.hsqldb.jdbcDriver
2018-10-04 17:07:41,976 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory:361 - Building JPA container EntityManagerFactory for persistence unit 'default'
2018-10-04 17:07:42,109 INFO  org.hibernate.jpa.internal.util.LogHelper.logPersistenceUnitInformation:31 - HHH000204: Processing PersistenceUnitInfo [
	name: default
	...]
2018-10-04 17:07:42,338 INFO  org.hibernate.Version.logVersion:46 - HHH000412: Hibernate Core {5.3.6.Final}
2018-10-04 17:07:42,343 INFO  org.hibernate.cfg.Environment.<clinit>:213 - HHH000206: hibernate.properties not found
2018-10-04 17:07:42,764 INFO  org.hibernate.annotations.common.Version.<clinit>:49 - HCANN000001: Hibernate Commons Annotations {5.0.4.Final}
2018-10-04 17:07:44,246 INFO  org.hibernate.dialect.Dialect.<init>:157 - HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect
2018-10-04 17:07:45,848 INFO  org.hibernate.validator.internal.util.Version.<clinit>:21 - HV000001: Hibernate Validator 6.0.13.Final
2018-10-04 17:07:46,621 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User.roles] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 17:07:46,636 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User.roles' created in EhcacheManager.
2018-10-04 17:07:46,650 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.User] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 17:07:46,653 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.User' created in EhcacheManager.
2018-10-04 17:07:46,657 WARN  org.hibernate.orm.cache.createCache:107 - HHH90001006: Missing cache[tk.djandjiev.lunchvoter.backend.model.Restaurant.menu] was created on-the-fly. The created cache will use a provider-specific default configuration: make sure you defined one. You can disable this warning by setting 'hibernate.javax.cache.missing_cache_strategy' to 'create'.
2018-10-04 17:07:46,661 INFO  org.ehcache.core.EhcacheManager.createCache:297 - Cache 'tk.djandjiev.lunchvoter.backend.model.Restaurant.menu' created in EhcacheManager.
2018-10-04 17:07:47,678 INFO  o.s.orm.jpa.LocalContainerEntityManagerFactoryBean.buildNativeEntityManagerFactory:415 - Initialized JPA EntityManagerFactory for persistence unit 'default'
2018-10-04 17:07:47,788 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: Ant [pattern='/resources/**'], []
2018-10-04 17:07:49,037 INFO  o.h.hql.internal.QueryTranslatorFactoryInitiator.initiateService:47 - HHH000397: Using ASTQueryTranslatorFactory
2018-10-04 17:07:49,781 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'hasRole('ROLE_ADMIN')', for Ant [pattern='/admin/**']
2018-10-04 17:07:49,790 DEBUG o.s.s.w.a.e.ExpressionBasedFilterInvocationSecurityMetadataSource.processMap:74 - Adding web access control expression 'isAuthenticated()', for org.springframework.security.web.util.matcher.AnyRequestMatcher@1
2018-10-04 17:07:49,806 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 17:07:49,808 INFO  o.s.security.web.DefaultSecurityFilterChain.<init>:43 - Creating filter chain: org.springframework.security.web.util.matcher.AnyRequestMatcher@1, [org.springframework.security.web.context.SecurityContextPersistenceFilter@3a1eb578, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fb59603, org.springframework.security.web.header.HeaderWriterFilter@48e078c4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ecdf8dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a1c5f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2daf79ab, org.springframework.security.web.access.ExceptionTranslationFilter@189f0991, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3fc313ee]
2018-10-04 17:07:50,231 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/initDB.sql]
2018-10-04 17:07:50,243 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/initDB.sql] in 11 ms.
2018-10-04 17:07:50,243 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:444 - Executing SQL script from class path resource [db/populateDB.sql]
2018-10-04 17:07:50,261 INFO  o.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript:510 - Executed SQL script from class path resource [db/populateDB.sql] in 17 ms.
2018-10-04 17:07:50,501 INFO  org.springframework.web.context.ContextLoader.initWebApplicationContext:310 - Root WebApplicationContext: initialization completed in 11777 ms
2018-10-04 17:07:50,522 DEBUG org.springframework.web.servlet.DispatcherServlet.init:150 - Initializing servlet 'mvc-dispatcher'
2018-10-04 17:07:50,561 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:494 - FrameworkServlet 'mvc-dispatcher': initialization started
2018-10-04 17:07:50,562 DEBUG org.springframework.web.servlet.DispatcherServlet.createWebApplicationContext:619 - Servlet with name 'mvc-dispatcher' will try to create custom WebApplicationContext context of class 'org.springframework.web.context.support.XmlWebApplicationContext', using parent context [Root WebApplicationContext: startup date [Thu Oct 04 17:07:38 MSK 2018]; root of context hierarchy]
2018-10-04 17:07:50,571 INFO  o.s.web.context.support.XmlWebApplicationContext.prepareRefresh:590 - Refreshing WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 17:07:50 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:50,572 INFO  o.s.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions:316 - Loading XML bean definitions from class path resource [spring/spring-mvc.xml]
2018-10-04 17:07:50,717 INFO  o.s.security.config.SecurityNamespaceHandler.<init>:78 - Spring Security 'config' module version is 5.0.8.RELEASE
2018-10-04 17:07:50,734 INFO  o.s.s.c.m.GlobalMethodSecurityBeanDefinitionParser.parse:210 - Expressions were enabled for method security but no SecurityExpressionHandler was configured. All hasPermision() expressions will evaluate to false.
2018-10-04 17:07:51,864 INFO  o.s.web.servlet.handler.SimpleUrlHandlerMapping.registerHandler:373 - Mapped URL path [/**] onto handler 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0'
2018-10-04 17:07:51,898 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:73 - Looking for URL mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 17:07:50 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:51,899 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'objectMapper': no URL paths identified
2018-10-04 17:07:51,899 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler#0': no URL paths identified
2018-10-04 17:07:51,900 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.SimpleUrlHandlerMapping#0': no URL paths identified
2018-10-04 17:07:51,900 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcCorsConfigurations': no URL paths identified
2018-10-04 17:07:51,901 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping': no URL paths identified
2018-10-04 17:07:51,901 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter': no URL paths identified
2018-10-04 17:07:51,902 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter': no URL paths identified
2018-10-04 17:07:51,902 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcHandlerMappingIntrospector': no URL paths identified
2018-10-04 17:07:51,903 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0': no URL paths identified
2018-10-04 17:07:51,903 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.config.method.GlobalMethodSecurityBeanDefinitionParser$DefaultMethodSecurityExpressionHandlerBeanFactory#0$created#0': no URL paths identified
2018-10-04 17:07:51,904 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource#0': no URL paths identified
2018-10-04 17:07:51,904 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.vote.AffirmativeBased#0': no URL paths identified
2018-10-04 17:07:51,905 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor#0': no URL paths identified
2018-10-04 17:07:51,905 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.security.methodSecurityMetadataSourceAdvisor': no URL paths identified
2018-10-04 17:07:51,906 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.aop.config.internalAutoProxyCreator': no URL paths identified
2018-10-04 17:07:51,907 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcContentNegotiationManager': no URL paths identified
2018-10-04 17:07:51,907 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': no URL paths identified
2018-10-04 17:07:51,907 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.format.support.FormattingConversionServiceFactoryBean#0': no URL paths identified
2018-10-04 17:07:51,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.validation.beanvalidation.OptionalValidatorFactoryBean#0': no URL paths identified
2018-10-04 17:07:51,908 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter': no URL paths identified
2018-10-04 17:07:51,909 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'mvcUriComponentsContributor': no URL paths identified
2018-10-04 17:07:51,909 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.handler.MappedInterceptor#0': no URL paths identified
2018-10-04 17:07:51,910 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0': no URL paths identified
2018-10-04 17:07:51,911 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0': no URL paths identified
2018-10-04 17:07:51,912 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0': no URL paths identified
2018-10-04 17:07:51,912 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'localeResolver': no URL paths identified
2018-10-04 17:07:51,918 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'exceptionInfoHandler': no URL paths identified
2018-10-04 17:07:51,919 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'restaurantController': no URL paths identified
2018-10-04 17:07:51,919 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'adminController': no URL paths identified
2018-10-04 17:07:51,920 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'profileController': no URL paths identified
2018-10-04 17:07:51,920 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'voteController': no URL paths identified
2018-10-04 17:07:51,921 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor': no URL paths identified
2018-10-04 17:07:51,921 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor': no URL paths identified
2018-10-04 17:07:51,922 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalRequiredAnnotationProcessor': no URL paths identified
2018-10-04 17:07:51,922 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalCommonAnnotationProcessor': no URL paths identified
2018-10-04 17:07:51,922 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.internalPersistenceAnnotationProcessor': no URL paths identified
2018-10-04 17:07:51,923 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerProcessor': no URL paths identified
2018-10-04 17:07:51,923 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.event.internalEventListenerFactory': no URL paths identified
2018-10-04 17:07:51,924 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'environment': no URL paths identified
2018-10-04 17:07:51,924 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemProperties': no URL paths identified
2018-10-04 17:07:51,925 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'systemEnvironment': no URL paths identified
2018-10-04 17:07:51,925 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'servletConfig': no URL paths identified
2018-10-04 17:07:51,926 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'org.springframework.context.annotation.ConfigurationClassPostProcessor.importRegistry': no URL paths identified
2018-10-04 17:07:51,926 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'messageSource': no URL paths identified
2018-10-04 17:07:51,927 DEBUG o.s.web.servlet.handler.BeanNameUrlHandlerMapping.detectHandlers:88 - Rejected bean name 'applicationEventMulticaster': no URL paths identified
2018-10-04 17:07:52,013 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.afterPropertiesSet:180 - Validated configuration attributes
2018-10-04 17:07:52,063 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.initHandlerMethods:199 - Looking for request mappings in application context: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 17:07:50 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:52,122 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 10 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.RestaurantController: {public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)={[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)={[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)={[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)={[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()={[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)={[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)={[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)={[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)={[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 17:07:52,124 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)
2018-10-04 17:07:52,132 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 17:07:52,134 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 17:07:52,135 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 17:07:52,137 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()
2018-10-04 17:07:52,139 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 17:07:52,140 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.to.MenuTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getFullMenu(int)
2018-10-04 17:07:52,141 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 17:07:52,143 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.MenuTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.getMenuItem(int,int)
2018-10-04 17:07:52,144 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/restaurants/{rId}/menu],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Menu> tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 17:07:52,153 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 6 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.AdminController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)={[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)={[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)={[/admin/users/{id}],methods=[DELETE]}, public java.util.List tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()={[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)={[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)={[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}}
2018-10-04 17:07:52,154 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)
2018-10-04 17:07:52,155 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)
2018-10-04 17:07:52,156 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/{id}],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)
2018-10-04 17:07:52,162 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()
2018-10-04 17:07:52,164 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)
2018-10-04 17:07:52,165 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/admin/users/by],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.getByMail(java.lang.String)
2018-10-04 17:07:52,168 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.user.ProfileController: {public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)={[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)={[/profile],methods=[DELETE]}}
2018-10-04 17:07:52,169 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 17:07:52,170 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/register],methods=[POST],consumes=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.ProfileController.register(tk.djandjiev.lunchvoter.backend.to.UserTO)
2018-10-04 17:07:52,171 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[PUT],consumes=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 17:07:52,172 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile],methods=[DELETE]}" onto public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)
2018-10-04 17:07:52,179 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.detectHandlerMethods:246 - 4 request handler methods found on class tk.djandjiev.lunchvoter.backend.web.VoteController: {public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)={[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)={[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}, public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)={[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}, public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)={[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}}
2018-10-04 17:07:52,202 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[GET],produces=[application/json;charset=UTF-8]}" onto public tk.djandjiev.lunchvoter.backend.to.VoteTO tk.djandjiev.lunchvoter.backend.web.VoteController.get(int)
2018-10-04 17:07:52,204 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[PUT],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.update(tk.djandjiev.lunchvoter.backend.to.VoteTO,int)
2018-10-04 17:07:52,206 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes/{id}],methods=[DELETE],produces=[application/json;charset=UTF-8]}" onto public void tk.djandjiev.lunchvoter.backend.web.VoteController.delete(int)
2018-10-04 17:07:52,207 INFO  o.s.w.s.m.m.a.RequestMappingHandlerMapping.register:547 - Mapped "{[/profile/votes],methods=[POST],consumes=[application/json;charset=UTF-8],produces=[application/json;charset=UTF-8]}" onto public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Vote> tk.djandjiev.lunchvoter.backend.web.VoteController.create(tk.djandjiev.lunchvoter.backend.to.VoteTO)
2018-10-04 17:07:52,595 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 17:07:50 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:52,711 INFO  o.s.w.s.m.m.a.RequestMappingHandlerAdapter.initControllerAdviceCache:574 - Looking for @ControllerAdvice: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 17:07:50 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:52,745 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:273 - Looking for exception mappings: WebApplicationContext for namespace 'mvc-dispatcher-servlet': startup date [Thu Oct 04 17:07:50 MSK 2018]; parent: Root WebApplicationContext
2018-10-04 17:07:52,747 INFO  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.initExceptionHandlerAdviceCache:288 - Detected @ExceptionHandler methods in exceptionInfoHandler
2018-10-04 17:07:52,779 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)
2018-10-04 17:07:52,782 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.update(tk.djandjiev.lunchvoter.backend.to.RestaurantTO,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 17:07:53,041 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)
2018-10-04 17:07:53,042 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 17:07:53,043 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)
2018-10-04 17:07:53,043 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 17:07:53,044 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)
2018-10-04 17:07:53,045 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.updateMenuItem(tk.djandjiev.lunchvoter.backend.to.MenuTO,int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 17:07:53,046 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)
2018-10-04 17:07:53,047 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.deleteMenuItem(int,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 17:07:53,048 DEBUG o.s.s.a.p.PrePostAnnotationSecurityMetadataSource.findAnnotation:127 - @org.springframework.security.access.prepost.PreAuthorize(value=hasRole('ROLE_ADMIN')) found on specific method: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)
2018-10-04 17:07:53,049 DEBUG o.s.s.a.m.DelegatingMethodSecurityMetadataSource.getAttributes:86 - Caching method [CacheKey[tk.djandjiev.lunchvoter.backend.web.RestaurantController; public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.createMenuItem(tk.djandjiev.lunchvoter.backend.model.Menu,int)]] with attributes [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 17:07:53,128 DEBUG org.springframework.web.servlet.DispatcherServlet.initMultipartResolver:525 - Unable to locate MultipartResolver with name 'multipartResolver': no multipart request handling provided
2018-10-04 17:07:53,128 DEBUG org.springframework.web.servlet.DispatcherServlet.initLocaleResolver:540 - Using LocaleResolver [org.springframework.web.servlet.i18n.CookieLocaleResolver@51edc79a]
2018-10-04 17:07:53,144 DEBUG org.springframework.web.servlet.DispatcherServlet.initThemeResolver:569 - Unable to locate ThemeResolver with name 'themeResolver': using default [org.springframework.web.servlet.theme.FixedThemeResolver@1a920e11]
2018-10-04 17:07:53,158 DEBUG org.springframework.web.servlet.DispatcherServlet.initRequestToViewNameTranslator:706 - Unable to locate RequestToViewNameTranslator with name 'viewNameTranslator': using default [org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@754c85b]
2018-10-04 17:07:53,194 DEBUG org.springframework.web.servlet.DispatcherServlet.initViewResolvers:746 - No ViewResolvers found in servlet 'mvc-dispatcher': using default
2018-10-04 17:07:53,211 DEBUG org.springframework.web.servlet.DispatcherServlet.initFlashMapManager:767 - Unable to locate FlashMapManager with name 'flashMapManager': using default [org.springframework.web.servlet.support.SessionFlashMapManager@67bc3624]
2018-10-04 17:07:53,212 DEBUG org.springframework.web.servlet.DispatcherServlet.initWebApplicationContext:569 - Published WebApplicationContext of servlet 'mvc-dispatcher' as ServletContext attribute with name [org.springframework.web.servlet.FrameworkServlet.CONTEXT.mvc-dispatcher]
2018-10-04 17:07:53,213 INFO  org.springframework.web.servlet.DispatcherServlet.initServletBean:509 - FrameworkServlet 'mvc-dispatcher': initialization completed in 2651 ms
2018-10-04 17:07:53,213 DEBUG org.springframework.web.servlet.DispatcherServlet.init:175 - Servlet 'mvc-dispatcher' configured successfully
2018-10-04 17:07:53,478 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 17:07:53,483 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:07:53,490 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:07:53,494 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:07:53,506 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:07:53,507 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:07:53,511 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:07:53,514 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@1b948a0f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 17:07:53,514 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:07:53,514 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:07:53,518 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 17:07:53,519 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 17:07:53,519 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@1b948a0f: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@957e: RemoteIpAddress: 127.0.0.1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 17:07:53,545 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: -1
2018-10-04 17:07:53,555 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:07:53,569 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 17:07:53,570 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:07:53,571 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:07:53,998 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/resources/**'
2018-10-04 17:07:53,999 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:07:53,999 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:07:53,999 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:07:54,000 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:07:54,000 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:07:54,001 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:07:54,995 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:07:54,996 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:07:54,999 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:07:55,000 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:07:55,001 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:07:55,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - / at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:07:55,005 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/'; against '/admin/**'
2018-10-04 17:07:55,007 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /; Attributes: [isAuthenticated()]
2018-10-04 17:07:55,008 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:07:55,011 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:07:55,011 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:07:55,011 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:07:55,012 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - / reached end of additional filter chain; proceeding with original chain
2018-10-04 17:07:55,031 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/]
2018-10-04 17:07:55,034 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /
2018-10-04 17:07:55,075 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/]
2018-10-04 17:07:55,078 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/] are [/**]
2018-10-04 17:07:55,081 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/] are {}
2018-10-04 17:07:55,084 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:07:55,087 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/] is: -1
2018-10-04 17:07:55,106 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:07:55,108 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:07:55,109 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:07:55,113 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:07:55,115 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:08:04,205 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 17:08:04,206 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:08:04,206 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:08:04,206 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:08:04,206 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:08:04,207 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:08:04,207 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:08:04,352 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:08:04,352 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:08:04,352 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:08:04,352 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:08:04,353 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:08:04,353 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:08:04,353 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 17:08:04,353 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 17:08:04,354 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:08:04,354 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:08:04,354 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:08:04,354 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:08:04,355 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 17:08:04,355 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 17:08:04,355 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 17:08:04,376 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 17:08:04,378 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 17:08:04,430 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 17:08:05,022 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:08:05,023 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@15718391, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@6994f24d, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@3cfffaa, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@1bd9f966, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@2ad9c87]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:08:05,024 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:08:05,024 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:08:05,024 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:08:05,025 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:11:28,890 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:11:28,890 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:11:28,890 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:11:28,890 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:11:28,890 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:11:28,891 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:11:28,891 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:11:29,027 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:11:29,028 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:11:29,028 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:11:29,029 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:11:29,030 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:11:29,031 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:11:29,032 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:11:29,033 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:11:29,034 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:11:29,035 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:11:29,036 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:11:29,037 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:11:29,038 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:11:29,039 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:11:29,040 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:11:29,056 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:11:29,056 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:11:29,057 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:11:29,058 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:11:29,059 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:11:29,060 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:11:29,061 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:11:29,062 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:11:29,063 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:11:29,063 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:14:11,543 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:14:11,543 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:14:11,544 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:14:11,544 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:14:11,544 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:14:11,545 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:14:11,545 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:14:11,673 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:14:11,674 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:14:11,674 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:14:11,675 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:14:11,675 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:14:11,675 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:14:11,676 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:14:11,677 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:14:11,677 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:14:11,679 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:14:11,680 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:14:11,680 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:14:11,681 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:14:11,682 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:14:11,683 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:14:11,691 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:14:11,692 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:14:11,692 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:14:11,693 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:14:11,694 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:14:11,695 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:14:11,696 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:14:11,697 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:14:11,698 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:14:11,698 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:14:32,651 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:14:32,651 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:14:32,651 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:14:32,652 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:14:32,652 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:14:32,652 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:14:32,652 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:14:32,776 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:14:32,776 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:14:32,777 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:14:32,777 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:14:32,777 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:14:32,778 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:14:32,778 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:14:32,778 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:14:32,778 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:14:32,779 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:14:32,779 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:14:32,779 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:14:32,779 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:14:32,780 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:14:32,780 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:14:32,784 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:14:32,785 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:14:32,785 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:14:32,786 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:14:32,786 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:14:32,787 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:14:32,788 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:14:32,788 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:14:32,788 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:14:32,789 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:17:43,482 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:17:43,482 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:17:43,482 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:17:43,482 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:17:43,482 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:17:43,483 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:17:43,483 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:17:43,603 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:17:43,603 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:17:43,603 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:17:43,603 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:17:43,603 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:17:43,604 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:17:43,604 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:17:43,604 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:17:43,604 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:17:43,604 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:17:43,605 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:17:43,605 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:17:43,605 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:17:43,605 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:17:43,605 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:17:43,609 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:17:43,609 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:17:43,609 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:17:43,610 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:17:43,610 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:17:43,611 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:17:43,611 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:17:43,612 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:17:43,612 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:17:43,612 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:18:37,286 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 17:18:37,287 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:18:37,287 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:18:37,288 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:18:37,288 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:18:37,289 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:18:37,289 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:18:37,412 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:18:37,412 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:18:37,413 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:18:37,413 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:18:37,413 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:18:37,413 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:18:37,414 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 17:18:37,414 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 17:18:37,414 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:18:37,414 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:18:37,415 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:18:37,415 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:18:37,416 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 17:18:37,416 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 17:18:37,416 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 17:18:37,418 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 17:18:37,419 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 17:18:37,420 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 17:18:37,788 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:18:37,789 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@6e02ff2e, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@13e3f36c, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@2f46b072, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@eca87f2, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@77c8e28a]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:18:37,790 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:18:37,790 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:18:37,791 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:18:37,791 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:20:49,772 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:20:49,773 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:20:49,773 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:20:49,773 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:20:49,773 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:20:49,773 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:20:49,773 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:20:49,907 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:20:49,908 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:20:49,909 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:20:49,909 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:20:49,910 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:20:49,911 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:20:49,911 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:20:49,912 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:20:49,913 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:20:49,914 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:20:49,914 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:20:49,915 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:20:49,916 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:20:49,962 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:20:49,963 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:20:49,966 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:20:49,967 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:20:50,003 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:20:50,054 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:20:50,056 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:20:50,056 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:20:50,056 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:20:50,056 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:20:50,057 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:22:26,135 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:22:26,136 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:22:26,136 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:22:26,136 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:22:26,137 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:22:26,137 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:22:26,138 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:22:26,265 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:26,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:22:26,266 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:22:26,266 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:22:26,267 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:22:26,267 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:22:26,267 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:22:26,268 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:22:26,268 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:26,268 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:22:26,269 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:22:26,269 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:22:26,269 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:22:26,270 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:22:26,270 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:22:26,274 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:22:26,275 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:22:26,276 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:22:26,277 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:22:26,277 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:22:26,279 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:22:26,280 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:22:26,280 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:22:26,281 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:22:26,282 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:22:30,907 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:22:30,907 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:22:30,908 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:22:30,908 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:22:30,908 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:22:30,908 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:22:30,909 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:22:31,032 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:31,032 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:22:31,032 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:22:31,032 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:22:31,032 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:22:31,032 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:22:31,033 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:22:31,033 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:22:31,033 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:31,033 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:22:31,033 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:22:31,033 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:22:31,033 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:22:31,033 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:22:31,034 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:22:31,035 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:22:31,035 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:22:31,037 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:22:31,037 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:22:31,037 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:22:31,038 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:22:31,038 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:22:31,038 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:22:31,038 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:22:31,039 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:22:31,931 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:22:31,931 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:22:31,932 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:22:31,932 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:22:31,932 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:22:31,933 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:22:31,933 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:22:31,973 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:31,973 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:22:31,973 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:22:31,974 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:22:31,974 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:22:31,974 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:22:31,975 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:22:31,975 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:22:31,975 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:31,975 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:22:31,975 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:22:31,975 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:22:31,975 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:22:31,976 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:22:31,976 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:22:31,978 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:22:31,978 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:22:31,979 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:22:31,979 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:22:31,979 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:22:31,980 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:22:31,980 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:22:31,980 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:22:31,981 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:22:31,981 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:22:32,628 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:22:32,628 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:22:32,629 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:22:32,629 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:22:32,629 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:22:32,629 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:22:32,630 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:22:32,672 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:32,673 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:22:32,673 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:22:32,673 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:22:32,673 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:22:32,673 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:22:32,673 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:22:32,674 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:22:32,674 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:32,674 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:22:32,674 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:22:32,674 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:22:32,674 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:22:32,674 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:22:32,675 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:22:32,676 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:22:32,677 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:22:32,677 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:22:32,678 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:22:32,678 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:22:32,679 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:22:32,679 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:22:32,679 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:22:32,680 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:22:32,680 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:22:33,272 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:22:33,273 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:22:33,273 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:22:33,273 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:22:33,274 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:22:33,274 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:22:33,275 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:22:33,316 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:33,316 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:22:33,316 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:22:33,316 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:22:33,317 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:22:33,317 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:22:33,317 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:22:33,317 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:22:33,317 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:33,317 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:22:33,318 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:22:33,318 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:22:33,318 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:22:33,318 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:22:33,318 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:22:33,319 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:22:33,320 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:22:33,321 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:22:33,321 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:22:33,322 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:22:33,323 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:22:33,324 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:22:33,324 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:22:33,324 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:22:33,325 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:22:34,260 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:22:34,260 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:22:34,261 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:22:34,261 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:22:34,261 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:22:34,262 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:22:34,262 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:22:34,312 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:34,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:22:34,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:22:34,312 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:22:34,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:22:34,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:22:34,313 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:22:34,313 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:22:34,313 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:22:34,313 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:22:34,313 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:22:34,313 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:22:34,313 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:22:34,314 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:22:34,314 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:22:34,315 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:22:34,315 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:22:34,315 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:22:34,316 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:22:34,316 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:22:34,316 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:22:34,317 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:22:34,317 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:22:34,318 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:22:34,318 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:23:00,885 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:23:00,886 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:23:00,886 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:23:00,886 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:23:00,887 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:23:00,887 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:23:00,887 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:23:00,930 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:23:00,930 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:23:00,930 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:23:00,930 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:23:00,931 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:23:00,931 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:23:00,931 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:23:00,931 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:23:00,932 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:23:00,932 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:23:00,933 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:23:00,933 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:23:00,933 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:23:00,933 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:23:00,934 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:23:00,935 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:23:00,935 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:23:00,935 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:23:00,970 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:23:00,972 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:23:00,972 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:23:00,972 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:23:00,973 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:23:00,973 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:23:11,890 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 17:23:11,890 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:23:11,891 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:23:11,891 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:23:11,891 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:23:11,891 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:23:11,891 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:23:12,006 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:23:12,006 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:23:12,007 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:23:12,007 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:23:12,007 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:23:12,008 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:23:12,008 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 17:23:12,008 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 17:23:12,009 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:23:12,009 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:23:12,009 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:23:12,009 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:23:12,010 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 17:23:12,010 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 17:23:12,010 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 17:23:12,011 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 17:23:12,011 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 17:23:12,011 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 17:23:12,392 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:23:12,393 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@23cd444a, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@6d8e0157, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@106a58e0, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@5b416f97, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@12679fa1]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:23:12,394 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:23:12,394 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:23:12,394 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:23:12,395 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:23:25,983 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:23:25,984 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:23:25,984 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:23:25,984 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:23:25,984 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:23:25,985 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:23:25,985 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:23:26,106 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:23:26,106 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:23:26,106 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:23:26,106 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:23:26,106 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:23:26,106 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:23:26,106 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:23:26,107 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:23:26,107 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:23:26,107 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:23:26,107 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:23:26,107 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:23:26,107 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:23:26,107 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:23:26,108 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:23:26,108 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:23:26,110 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:23:26,111 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:23:26,156 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:23:26,157 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:23:26,158 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:23:26,158 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:23:26,159 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:23:26,160 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:24:13,200 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/resources/**'
2018-10-04 17:24:13,200 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:24:13,201 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:24:13,201 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:24:13,201 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:24:13,201 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:24:13,201 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:24:13,313 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:24:13,313 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:24:13,313 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:24:13,313 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:24:13,314 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:24:13,314 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:24:13,314 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/10001'; against '/admin/**'
2018-10-04 17:24:13,314 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/10001; Attributes: [isAuthenticated()]
2018-10-04 17:24:13,314 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:24:13,314 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:24:13,315 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:24:13,315 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:24:13,315 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:24:13,315 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile/10001]
2018-10-04 17:24:13,315 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile/10001
2018-10-04 17:24:13,318 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:322 - Did not find handler method for [/profile/10001]
2018-10-04 17:24:13,318 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:199 - Matching patterns for request [/profile/10001] are [/**]
2018-10-04 17:24:13,319 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.lookupHandler:233 - URI Template variables for request [/profile/10001] are {}
2018-10-04 17:24:13,319 DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping.getHandlerInternal:146 - Mapping [/profile/10001] to HandlerExecutionChain with handler [org.springframework.web.servlet.resource.DefaultServletHttpRequestHandler@727271bd] and 1 interceptor
2018-10-04 17:24:13,319 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile/10001] is: -1
2018-10-04 17:24:13,320 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:24:13,321 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:24:13,321 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:24:13,321 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:24:13,322 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:27:52,415 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:27:52,416 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:27:52,416 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:27:52,416 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:27:52,416 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:27:52,416 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:27:52,417 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:27:52,537 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:27:52,537 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:27:52,538 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:27:52,538 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:27:52,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:27:52,540 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:27:52,540 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:27:52,541 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:27:52,541 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:27:52,542 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:27:52,543 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:27:52,544 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:27:52,546 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:27:52,547 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:27:52,549 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:27:52,551 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:27:52,552 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:27:52,554 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:27:52,599 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:27:52,601 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:27:52,601 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:27:52,602 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:27:52,602 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:27:52,603 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:27:59,718 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:27:59,718 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:27:59,718 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:27:59,718 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:27:59,718 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:27:59,718 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:27:59,718 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:27:59,856 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:27:59,857 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:27:59,857 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:27:59,858 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:27:59,858 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:27:59,858 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:27:59,859 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:27:59,859 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:27:59,859 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:27:59,860 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:27:59,860 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:27:59,861 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:27:59,861 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:27:59,861 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:27:59,862 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:27:59,863 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:27:59,863 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:27:59,864 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:27:59,894 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:27:59,895 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:27:59,896 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:27:59,896 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:27:59,896 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:27:59,896 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:28:28,736 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:28:28,736 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:28:28,736 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:28:28,737 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:28:28,737 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:28:28,737 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:28:28,737 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:28:28,857 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:28:28,858 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:28:28,858 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:28:28,859 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:28:28,859 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:28:28,860 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:28:28,861 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:28:28,862 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:28:28,863 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:28:28,864 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:28:28,865 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:28:28,866 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:28:28,867 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:28:28,868 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:28:28,868 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:28:28,870 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:28:28,872 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:28:28,873 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:28:28,918 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:28:28,918 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:28:28,919 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:28:28,919 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:28:28,919 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:28:28,919 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:29:42,557 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:29:42,558 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:29:42,558 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:29:42,558 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:29:42,558 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:29:42,558 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:29:42,558 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:29:42,678 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:29:42,679 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:29:42,679 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:29:42,679 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:29:42,680 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:29:42,680 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:29:42,680 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:29:42,681 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:29:42,681 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:29:42,682 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:29:42,682 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:29:42,683 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:29:42,684 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:29:42,684 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:29:42,685 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:29:42,686 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:29:42,687 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:29:42,688 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:29:42,718 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:29:42,719 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:29:42,720 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:29:42,720 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:29:42,720 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:29:42,721 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:29:47,792 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:29:47,792 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:29:47,792 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:29:47,792 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:29:47,793 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:29:47,793 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 17:29:47,793 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:29:47,925 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:29:47,925 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:29:47,925 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:29:47,926 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:29:47,926 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:29:47,926 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:29:47,927 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:29:47,927 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:29:47,927 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:29:47,928 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:29:47,928 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:29:47,929 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:29:47,929 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:29:47,929 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/profile]
2018-10-04 17:29:47,930 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:29:47,931 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.ProfileController.get(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:29:47,931 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/profile] is: -1
2018-10-04 17:29:47,932 INFO  t.d.lunchvoter.backend.web.user.ProfileController.get:27 - get 10001
2018-10-04 17:29:47,965 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:29:47,966 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:29:47,967 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:29:47,968 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:29:47,969 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:29:47,969 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:31:26,864 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:31:26,865 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:31:26,865 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:31:26,865 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:31:26,865 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:31:26,865 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user2@yandex.ru'
2018-10-04 17:31:26,866 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:31:26,991 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c51411d6: Principal: UserTO{id=10002, name='User2', email='user2@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:31:26,992 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:31:26,992 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:31:26,992 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c51411d6: Principal: UserTO{id=10002, name='User2', email='user2@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:31:26,993 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:31:26,993 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:31:26,994 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:31:26,994 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:31:26,994 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@c51411d6: Principal: UserTO{id=10002, name='User2', email='user2@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:31:26,995 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:31:26,995 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:31:26,995 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:31:26,995 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:31:26,996 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing DELETE request for [/lunchvoter/profile]
2018-10-04 17:31:26,997 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:31:26,998 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.delete(tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:31:26,999 INFO  t.d.lunchvoter.backend.web.user.ProfileController.delete:38 - delete 10002
2018-10-04 17:31:27,093 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:31:27,094 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:31:27,094 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:31:27,094 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:31:27,094 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:36:50,834 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/register'; against '/resources/**'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:36:50,835 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@1b906eb9: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 17:36:50,835 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:36:50,836 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile/register at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:36:50,836 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile/register'; against '/admin/**'
2018-10-04 17:36:50,836 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile/register; Attributes: [isAuthenticated()]
2018-10-04 17:36:50,836 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@1b906eb9: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 17:36:50,837 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: -1
2018-10-04 17:36:50,837 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:36:50,849 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 17:36:50,850 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:36:50,850 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:41:43,792 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:41:43,793 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:41:43,793 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:41:43,793 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:41:43,793 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:41:43,794 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user3@yandex.ru'
2018-10-04 17:41:43,794 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:41:43,965 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:41:43,965 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:41:43,966 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:41:43,966 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:41:43,966 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:41:43,966 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:41:43,966 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:41:43,966 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:41:43,966 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:41:43,967 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:41:43,967 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:41:43,967 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:41:43,967 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:41:43,967 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/profile]
2018-10-04 17:41:43,967 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:41:43,991 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported
2018-10-04 17:41:43,992 DEBUG o.s.w.s.m.a.ResponseStatusExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported
2018-10-04 17:41:43,992 DEBUG o.s.w.s.m.support.DefaultHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type '' not supported
2018-10-04 17:41:43,992 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:41:43,993 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:41:43,993 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:41:43,993 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:41:43,993 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:45:15,986 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users'; against '/resources/**'
2018-10-04 17:45:15,986 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:45:15,987 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:45:15,987 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:45:15,987 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:45:15,987 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:45:15,987 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:45:16,111 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:45:16,111 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:45:16,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:45:16,112 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:45:16,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:45:16,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:45:16,113 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users'; against '/admin/**'
2018-10-04 17:45:16,113 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:45:16,113 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:45:16,133 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:45:16,133 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:45:16,133 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:45:16,133 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users reached end of additional filter chain; proceeding with original chain
2018-10-04 17:45:16,134 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/admin/users]
2018-10-04 17:45:16,134 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users
2018-10-04 17:45:16,134 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.getAll()]
2018-10-04 17:45:16,135 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/admin/users] is: -1
2018-10-04 17:45:16,136 INFO  t.d.lunchvoter.backend.web.user.AdminController.getAll:22 - getAll
2018-10-04 17:45:16,218 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:45:16,219 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[User{id=10010, email=admin@gmail.com, name=Admin, enabled=true, roles=[ROLE_USER, ROLE_ADMIN]}, User{id=10000, email=user0@yandex.ru, name=User0, enabled=true, roles=[ROLE_USER]}, User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}, User{id=10003, email=user3@yandex.ru, name=User3, enabled=true, roles=[ROLE_USER]}, User{id=10004, email=user4@yandex.ru, name=User4, enabled=true, roles=[ROLE_USER]}, User{id=10005, email=user5@yandex.ru, name=User5, enabled=true, roles=[ROLE_USER]}, User{id=10006, email=user6@yandex.ru, name=User6, enabled=true, roles=[ROLE_USER]}, User{id=10007, email=user7@yandex.ru, name=User7, enabled=true, roles=[ROLE_USER]}, User{id=10008, email=user8@yandex.ru, name=User8, enabled=true, roles=[ROLE_USER]}, User{id=10009, email=user9@yandex.ru, name=User9, enabled=true, roles=[ROLE_USER]}]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:45:16,219 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:45:16,219 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:45:16,219 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:45:16,219 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:45:56,342 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10001'; against '/resources/**'
2018-10-04 17:45:56,343 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:45:56,343 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:45:56,343 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:45:56,343 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:45:56,344 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:45:56,344 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:45:56,500 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:45:56,501 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:45:56,501 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:45:56,502 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:45:56,502 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:45:56,503 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10001 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:45:56,503 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10001'; against '/admin/**'
2018-10-04 17:45:56,504 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/10001; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:45:56,504 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:45:56,506 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:45:56,506 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:45:56,507 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:45:56,508 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users/10001 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:45:56,509 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/admin/users/10001]
2018-10-04 17:45:56,510 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users/10001
2018-10-04 17:45:56,514 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.model.User tk.djandjiev.lunchvoter.backend.web.user.AdminController.get(int)]
2018-10-04 17:45:56,515 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/admin/users/10001] is: -1
2018-10-04 17:45:56,571 INFO  t.d.lunchvoter.backend.web.user.AdminController.get:27 - get 10001
2018-10-04 17:45:56,606 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:45:56,607 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10001, email=user1@yandex.ru, name=User1, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:45:56,607 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:45:56,607 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:45:56,608 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:45:56,608 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:49:06,386 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:49:06,387 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:49:06,387 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:49:06,387 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:49:06,387 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:49:06,387 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user3@yandex.ru'
2018-10-04 17:49:06,387 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:49:06,502 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:49:06,503 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:49:06,503 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:49:06,503 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:49:06,503 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:49:06,504 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:49:06,504 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:49:06,504 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:49:06,504 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:49:06,505 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:49:06,505 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:49:06,505 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:49:06,506 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:49:06,506 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/profile]
2018-10-04 17:49:06,506 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:49:06,507 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:49:06,629 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.to.UserTO] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:49:06,648 DEBUG o.s.w.s.m.m.a.ServletInvocableHandlerMethod.getMethodArgumentValues:167 - Failed to resolve argument 0 of type 'tk.djandjiev.lunchvoter.backend.to.UserTO'
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (PushbackInputStream); line: 1, column: 1]); nested exception is com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (PushbackInputStream); line: 1, column: 1])
 at [Source: (PushbackInputStream); line: 1, column: 3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:243)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:206)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:130)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:124)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:161)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:131)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:888)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (PushbackInputStream); line: 1, column: 1])
 at [Source: (PushbackInputStream); line: 1, column: 3]
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportInvalidEOF(ParserMinimalBase.java:594)
	at com.fasterxml.jackson.core.base.ParserBase._handleEOF(ParserBase.java:485)
	at com.fasterxml.jackson.core.base.ParserBase._eofAsNextChar(ParserBase.java:497)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._skipWSOrEnd(UTF8StreamJsonParser.java:2927)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:685)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:237)
	... 71 common frames omitted
2018-10-04 17:49:06,651 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (PushbackInputStream); line: 1, column: 1]); nested exception is com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (PushbackInputStream); line: 1, column: 1])
 at [Source: (PushbackInputStream); line: 1, column: 3]
2018-10-04 17:49:06,655 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.illegalRequestDataError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 17:49:06,656 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/profile: com.fasterxml.jackson.core.io.JsonEOFException: Unexpected end-of-input: expected close marker for Object (start marker at [Source: (PushbackInputStream); line: 1, column: 1])
 at [Source: (PushbackInputStream); line: 1, column: 3]
2018-10-04 17:49:06,663 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:49:06,664 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@6882285f] as "application/json" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 17:49:06,664 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:49:06,664 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:49:06,665 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:49:06,665 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:49:41,002 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:49:41,003 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@1b906eb9: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:49:41,003 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:49:41,004 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:49:41,004 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:49:41,004 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@1b906eb9: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 17:49:41,004 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: -1
2018-10-04 17:49:41,005 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:49:41,007 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 17:49:41,007 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:49:41,007 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:50:38,564 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:50:38,564 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:50:38,565 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:50:38,565 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:50:38,565 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:50:38,565 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user3@yandex.ru'
2018-10-04 17:50:38,566 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:50:38,677 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:50:38,678 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:50:38,678 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:50:38,678 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:50:38,678 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:50:38,678 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:50:38,678 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:50:38,679 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:50:38,679 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:50:38,679 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:50:38,679 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:50:38,680 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:50:38,680 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:50:38,680 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/profile]
2018-10-04 17:50:38,680 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:50:38,682 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported
2018-10-04 17:50:38,683 DEBUG o.s.w.s.m.a.ResponseStatusExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported
2018-10-04 17:50:38,683 DEBUG o.s.w.s.m.support.DefaultHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported
2018-10-04 17:50:38,683 WARN  org.springframework.web.servlet.PageNotFound.handleHttpRequestMethodNotSupported:255 - Request method 'POST' not supported
2018-10-04 17:50:38,684 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:50:38,684 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:50:38,685 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:50:38,685 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:50:38,685 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:51:01,138 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/resources/**'
2018-10-04 17:51:01,138 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:51:01,138 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:51:01,139 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:51:01,139 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:51:01,139 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user3@yandex.ru'
2018-10-04 17:51:01,139 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:51:01,256 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:51:01,256 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:51:01,256 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:51:01,256 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 17:51:01,257 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:51:01,257 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /profile at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:51:01,257 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/profile'; against '/admin/**'
2018-10-04 17:51:01,257 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /profile; Attributes: [isAuthenticated()]
2018-10-04 17:51:01,257 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 17:51:01,257 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:51:01,258 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:51:01,258 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:51:01,258 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /profile reached end of additional filter chain; proceeding with original chain
2018-10-04 17:51:01,258 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/profile]
2018-10-04 17:51:01,258 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /profile
2018-10-04 17:51:01,259 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]
2018-10-04 17:51:01,259 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.to.UserTO] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:51:01,656 INFO  t.d.lunchvoter.backend.web.user.ProfileController.update:49 - update UserTO{id=10003, name='updatedUser', email='user3@yandex.ru'} with id=10003
2018-10-04 17:51:01,796 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.User] during update time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='не может быть пусто', propertyPath=password, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.User, messageTemplate='{javax.validation.constraints.NotBlank.message}'}
]]
2018-10-04 17:51:01,834 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public void tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(tk.djandjiev.lunchvoter.backend.to.UserTO,tk.djandjiev.lunchvoter.backend.to.AuthorizedUser)]: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
2018-10-04 17:51:01,835 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.handleError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 17:51:01,835 ERROR t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:103 - APP_ERROR at request http://localhost:8080/lunchvoter/profile
javax.validation.ConstraintViolationException: Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.User] during update time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='не может быть пусто', propertyPath=password, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.User, messageTemplate='{javax.validation.constraints.NotBlank.message}'}
]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreUpdate(BeanValidationEventListener.java:88)
	at org.hibernate.action.internal.EntityUpdateAction.preUpdate(EntityUpdateAction.java:248)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:119)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:53)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:336)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:391)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:316)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy113.update(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.web.user.AbstractUserController.update(AbstractUserController.java:51)
	at tk.djandjiev.lunchvoter.backend.web.user.ProfileController.update(ProfileController.java:47)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:888)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:51:01,839 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:51:01,856 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@7a97a264] as "application/json" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 17:51:01,857 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:51:01,857 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:51:01,857 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:51:01,857 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:53:42,663 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users'; against '/resources/**'
2018-10-04 17:53:42,664 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:53:42,664 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:53:42,664 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:53:42,664 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:53:42,664 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:53:42,664 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:53:42,783 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:53:42,783 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:53:42,783 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:53:42,783 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:53:42,783 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:53:42,784 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:53:42,784 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users'; against '/admin/**'
2018-10-04 17:53:42,784 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:53:42,784 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:53:42,785 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:53:42,785 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:53:42,785 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:53:42,785 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users reached end of additional filter chain; proceeding with original chain
2018-10-04 17:53:42,785 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/admin/users]
2018-10-04 17:53:42,785 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users
2018-10-04 17:53:42,786 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)]
2018-10-04 17:53:42,811 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.User] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:53:42,853 DEBUG o.s.w.s.m.m.a.ServletInvocableHandlerMethod.getMethodArgumentValues:167 - Failed to resolve argument 0 of type 'tk.djandjiev.lunchvoter.backend.model.User'
org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:138)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:124)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:161)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:131)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:53:42,856 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)]: org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
2018-10-04 17:53:42,857 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.bindValidationError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 17:53:42,861 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/admin/users: org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
2018-10-04 17:53:42,862 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:53:42,863 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@4af2b8cc] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 17:53:42,864 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:53:42,864 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:53:42,864 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:53:42,864 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:54:39,608 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users'; against '/resources/**'
2018-10-04 17:54:39,608 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:54:39,608 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:54:39,608 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:54:39,608 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:54:39,608 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:54:39,608 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:54:39,735 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:54:39,735 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:54:39,736 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:54:39,736 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:54:39,736 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:54:39,736 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:54:39,737 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users'; against '/admin/**'
2018-10-04 17:54:39,737 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:54:39,737 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:54:39,738 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:54:39,738 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:54:39,738 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:54:39,739 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users reached end of additional filter chain; proceeding with original chain
2018-10-04 17:54:39,739 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/admin/users]
2018-10-04 17:54:39,740 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users
2018-10-04 17:54:39,741 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.User> tk.djandjiev.lunchvoter.backend.web.user.AdminController.createWithLocation(tk.djandjiev.lunchvoter.backend.model.User)]
2018-10-04 17:54:39,742 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.User] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:54:39,746 INFO  t.d.lunchvoter.backend.web.user.AdminController.create:32 - create User{id=null, email=newUser@yandex.ru, name=newUser, enabled=true, roles=[ROLE_USER]}
2018-10-04 17:54:39,967 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:54:39,967 DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor.writeWithMessageConverters:278 - Written [User{id=10051, email=newuser@yandex.ru, name=newUser, enabled=true, roles=[ROLE_USER]}] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:54:39,968 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:54:39,968 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:54:39,968 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:54:39,968 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:58:37,686 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/100004'; against '/resources/**'
2018-10-04 17:58:37,687 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:58:37,687 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:58:37,687 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:58:37,687 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:58:37,687 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:58:37,687 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:58:37,717 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:58:37,717 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:58:37,717 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:58:37,717 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:58:37,717 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:58:37,718 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/100004 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:58:37,718 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/100004'; against '/admin/**'
2018-10-04 17:58:37,718 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/100004; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:58:37,718 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:58:37,718 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:58:37,718 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:58:37,719 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:58:37,719 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users/100004 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:58:37,719 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/admin/users/100004]
2018-10-04 17:58:37,719 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users/100004
2018-10-04 17:58:37,721 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)]
2018-10-04 17:58:37,722 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.User] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:58:37,724 DEBUG o.s.w.s.m.m.a.ServletInvocableHandlerMethod.getMethodArgumentValues:167 - Failed to resolve argument 0 of type 'tk.djandjiev.lunchvoter.backend.model.User'
org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:138)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:124)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:161)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:131)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:888)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:58:37,732 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)]: org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
2018-10-04 17:58:37,733 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.bindValidationError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 17:58:37,734 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/admin/users/100004: org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
2018-10-04 17:58:37,735 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:58:37,736 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@2fec3989] as "application/json" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 17:58:37,736 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:58:37,736 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:58:37,737 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:58:37,737 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:58:56,980 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10004'; against '/resources/**'
2018-10-04 17:58:56,980 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:58:56,981 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:58:56,981 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:58:56,981 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:58:56,981 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:58:56,981 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:58:57,101 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:58:57,102 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:58:57,102 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:58:57,103 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:58:57,103 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:58:57,104 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:58:57,105 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10004'; against '/admin/**'
2018-10-04 17:58:57,105 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/10004; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:58:57,106 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:58:57,107 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:58:57,107 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:58:57,107 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:58:57,108 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users/10004 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:58:57,108 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/admin/users/10004]
2018-10-04 17:58:57,109 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users/10004
2018-10-04 17:58:57,113 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)]
2018-10-04 17:58:57,114 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.User] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:58:57,121 DEBUG o.s.w.s.m.m.a.ServletInvocableHandlerMethod.getMethodArgumentValues:167 - Failed to resolve argument 0 of type 'tk.djandjiev.lunchvoter.backend.model.User'
org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:138)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:124)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:161)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:131)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:888)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:664)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 17:58:57,141 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)]: org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
2018-10-04 17:58:57,142 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.bindValidationError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 17:58:57,143 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/admin/users/10004: org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument at index 0 in method: public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int), with 1 error(s): [Field error in object 'user' on field 'roles': rejected value [null]; codes [NotEmpty.user.roles,NotEmpty.roles,NotEmpty.java.util.Set,NotEmpty]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [user.roles,roles]; arguments []; default message [roles]]; default message [не может быть пусто]] 
2018-10-04 17:58:57,144 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:58:57,146 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@31189485] as "application/json" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 17:58:57,146 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:58:57,146 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:58:57,147 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:58:57,147 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 17:59:24,235 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10004'; against '/resources/**'
2018-10-04 17:59:24,235 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 17:59:24,236 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 17:59:24,236 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 17:59:24,236 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 17:59:24,236 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 17:59:24,237 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 17:59:24,359 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:59:24,360 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 17:59:24,360 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 17:59:24,360 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 17:59:24,360 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 17:59:24,361 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10004 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 17:59:24,361 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10004'; against '/admin/**'
2018-10-04 17:59:24,362 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/10004; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 17:59:24,363 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 17:59:24,363 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 17:59:24,364 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 17:59:24,364 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 17:59:24,364 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users/10004 reached end of additional filter chain; proceeding with original chain
2018-10-04 17:59:24,365 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/admin/users/10004]
2018-10-04 17:59:24,365 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users/10004
2018-10-04 17:59:24,368 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.update(tk.djandjiev.lunchvoter.backend.model.User,int)]
2018-10-04 17:59:24,370 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.User] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 17:59:24,374 INFO  t.d.lunchvoter.backend.web.user.AdminController.update:43 - update User{id=null, email=updated@mail.ru, name=updUser, enabled=true, roles=[ROLE_USER]} with id=10004
2018-10-04 17:59:24,536 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 17:59:24,536 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 17:59:24,536 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 17:59:24,536 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 17:59:24,537 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:01:25,868 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10005'; against '/resources/**'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:01:25,869 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:100 - Populated SecurityContextHolder with anonymous token: 'org.springframework.security.authentication.AnonymousAuthenticationToken@1b906eb9: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS'
2018-10-04 18:01:25,869 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:01:25,870 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:01:25,870 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10005'; against '/admin/**'
2018-10-04 18:01:25,870 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/10005; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 18:01:25,870 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@1b906eb9: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS
2018-10-04 18:01:25,870 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: -1
2018-10-04 18:01:25,871 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:181 - Access is denied (user is anonymous); redirecting to authentication entry point
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:158)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 18:01:25,876 DEBUG o.s.security.web.access.ExceptionTranslationFilter.sendStartAuthentication:212 - Calling Authentication entry point.
2018-10-04 18:01:25,877 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:01:25,877 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:01:44,312 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10005'; against '/resources/**'
2018-10-04 18:01:44,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:01:44,312 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:01:44,313 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:01:44,313 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:01:44,313 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:01:44,313 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:01:44,356 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:01:44,357 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:01:44,357 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:01:44,357 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:01:44,357 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:01:44,357 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10005 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:01:44,357 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10005'; against '/admin/**'
2018-10-04 18:01:44,358 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/10005; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 18:01:44,358 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:01:44,358 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:01:44,358 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:01:44,358 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:01:44,358 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /admin/users/10005 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:01:44,358 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing DELETE request for [/lunchvoter/admin/users/10005]
2018-10-04 18:01:44,359 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /admin/users/10005
2018-10-04 18:01:44,359 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.user.AdminController.delete(int)]
2018-10-04 18:01:44,360 INFO  t.d.lunchvoter.backend.web.user.AdminController.delete:38 - delete 10005
2018-10-04 18:01:44,395 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:01:44,395 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:01:44,395 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:01:44,396 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:01:44,396 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:03:34,109 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10003'; against '/resources/**'
2018-10-04 18:03:34,110 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:03:34,110 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:03:34,110 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:03:34,110 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:03:34,110 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user3@yandex.ru'
2018-10-04 18:03:34,110 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:03:34,140 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:03:34,140 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:03:34,141 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:03:34,141 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:03:34,141 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:03:34,141 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /admin/users/10003 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:03:34,142 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/admin/users/10003'; against '/admin/**'
2018-10-04 18:03:34,142 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /admin/users/10003; Attributes: [hasRole('ROLE_ADMIN')]
2018-10-04 18:03:34,142 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:03:34,143 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: -1
2018-10-04 18:03:34,143 DEBUG o.s.security.web.access.ExceptionTranslationFilter.handleSpringSecurityException:195 - Access is denied (user is not anonymous); delegating to AccessDeniedHandler
org.springframework.security.access.AccessDeniedException: Access is denied
	at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:84)
	at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:233)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:124)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 18:03:34,147 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:03:34,147 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:05:32,572 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:05:32,572 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:05:32,572 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:05:32,573 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:05:32,573 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:05:32,573 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 18:05:32,573 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:05:32,604 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:05:32,604 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:05:32,604 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:05:32,604 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:05:32,604 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:05:32,605 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:05:32,605 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:05:32,605 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:05:32,605 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:05:32,605 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:05:32,605 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:05:32,605 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:05:32,605 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:05:32,606 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants]
2018-10-04 18:05:32,606 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:05:32,606 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public java.util.List<tk.djandjiev.lunchvoter.backend.to.RestaurantTO> tk.djandjiev.lunchvoter.backend.web.RestaurantController.getAll()]
2018-10-04 18:05:32,607 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants] is: -1
2018-10-04 18:05:32,607 INFO  t.d.lunchvoter.backend.web.RestaurantController.getAll:52 - getAll restaurants
2018-10-04 18:05:33,279 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:05:33,281 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [[tk.djandjiev.lunchvoter.backend.to.RestaurantTO@31779764, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@128609a0, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@3441cce1, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@47da3f38, tk.djandjiev.lunchvoter.backend.to.RestaurantTO@4a9b5c10]] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:05:33,283 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:05:33,283 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:05:33,284 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:05:33,285 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:07:12,860 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:07:12,861 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:07:12,861 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:07:12,861 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:07:12,861 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:07:12,861 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user2@yandex.ru'
2018-10-04 18:07:12,861 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:07:13,076 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider.authenticate:148 - User 'user2@yandex.ru' not found
2018-10-04 18:07:13,077 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:198 - Authentication request for failed: org.springframework.security.authentication.BadCredentialsException: Bad credentials
2018-10-04 18:07:13,077 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:07:13,077 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:07:40,965 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:07:40,965 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:07:40,965 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:07:40,965 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:07:40,965 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:07:40,966 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user2@yandex.ru'
2018-10-04 18:07:40,966 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:07:41,171 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider.authenticate:148 - User 'user2@yandex.ru' not found
2018-10-04 18:07:41,171 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:198 - Authentication request for failed: org.springframework.security.authentication.BadCredentialsException: Bad credentials
2018-10-04 18:07:41,171 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:07:41,171 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:08:11,740 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:08:11,740 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:08:11,740 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:08:11,740 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:08:11,741 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:08:11,741 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user2@yandex.ru'
2018-10-04 18:08:11,741 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:08:11,937 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider.authenticate:148 - User 'user2@yandex.ru' not found
2018-10-04 18:08:11,938 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:198 - Authentication request for failed: org.springframework.security.authentication.BadCredentialsException: Bad credentials
2018-10-04 18:08:11,938 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:08:11,938 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:08:17,546 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/resources/**'
2018-10-04 18:08:17,547 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:08:17,548 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:08:17,549 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:08:17,549 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:08:17,550 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user2@yandex.ru'
2018-10-04 18:08:17,550 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:08:17,746 DEBUG o.s.s.authentication.dao.DaoAuthenticationProvider.authenticate:148 - User 'user2@yandex.ru' not found
2018-10-04 18:08:17,746 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:198 - Authentication request for failed: org.springframework.security.authentication.BadCredentialsException: Bad credentials
2018-10-04 18:08:17,746 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:08:17,747 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:08:22,171 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/resources/**'
2018-10-04 18:08:22,172 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:08:22,172 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:08:22,173 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:08:22,174 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:08:22,175 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 18:08:22,175 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:08:22,302 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:08:22,302 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:08:22,302 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:08:22,303 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:08:22,303 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:08:22,303 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:08:22,303 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/admin/**'
2018-10-04 18:08:22,303 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10012; Attributes: [isAuthenticated()]
2018-10-04 18:08:22,303 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:08:22,304 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:08:22,304 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:08:22,304 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:08:22,304 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10012 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:08:22,304 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10012]
2018-10-04 18:08:22,305 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10012
2018-10-04 18:08:22,307 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 18:08:22,308 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10012] is: -1
2018-10-04 18:08:22,309 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10012
2018-10-04 18:08:22,419 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:08:22,419 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@10a57ec] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:08:22,420 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:08:22,420 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:08:22,420 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:08:22,420 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:08:55,661 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:08:55,661 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:08:55,661 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:08:55,662 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:08:55,662 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:08:55,662 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 18:08:55,662 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:08:55,786 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:08:55,786 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:08:55,786 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:08:55,786 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:08:55,786 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:08:55,787 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:08:55,787 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 18:08:55,787 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 18:08:55,787 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:08:55,788 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:08:55,789 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:08:55,789 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:08:55,789 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:08:55,790 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10011]
2018-10-04 18:08:55,790 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 18:08:55,791 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 18:08:55,792 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10011] is: -1
2018-10-04 18:08:55,792 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10011
2018-10-04 18:08:55,893 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:08:55,894 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@6c354ac2] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:08:55,894 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:08:55,895 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:08:55,895 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:08:55,895 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:09:01,913 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:09:01,913 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:09:01,913 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:09:01,914 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:09:01,914 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:09:01,914 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user3@yandex.ru'
2018-10-04 18:09:01,914 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:09:01,941 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:09:01,941 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:09:01,942 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:09:01,942 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:09:01,942 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:09:01,942 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:09:01,942 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 18:09:01,943 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 18:09:01,943 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@7271e719: Principal: UserTO{id=10003, name='User3', email='user3@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:09:01,943 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:09:01,944 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:09:01,944 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:09:01,944 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:09:01,945 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10011]
2018-10-04 18:09:01,945 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 18:09:01,946 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 18:09:01,947 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10011] is: -1
2018-10-04 18:09:01,947 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10011
2018-10-04 18:09:02,048 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:09:02,048 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@60ef4406] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:09:02,049 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:09:02,049 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:09:02,050 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:09:02,050 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:10:35,530 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/resources/**'
2018-10-04 18:10:35,530 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:10:35,530 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:10:35,530 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:10:35,530 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:10:35,530 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:10:35,531 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:10:35,568 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:10:35,568 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:10:35,568 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:10:35,568 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:10:35,569 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:10:35,569 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10012 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:10:35,569 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10012'; against '/admin/**'
2018-10-04 18:10:35,569 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10012; Attributes: [isAuthenticated()]
2018-10-04 18:10:35,569 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:10:35,570 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:10:35,570 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:10:35,570 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:10:35,571 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10012 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:10:35,571 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing DELETE request for [/lunchvoter/restaurants/10012]
2018-10-04 18:10:35,571 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10012
2018-10-04 18:10:35,572 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int)]
2018-10-04 18:10:35,588 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public void tk.djandjiev.lunchvoter.backend.web.RestaurantController.delete(int); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:10:35,589 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:10:35,595 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:10:35,596 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:10:35,596 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:10:35,596 INFO  t.d.lunchvoter.backend.web.RestaurantController.delete:64 - delete restaurant 10012
2018-10-04 18:10:35,629 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:10:35,629 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:10:35,629 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:10:35,630 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:10:35,630 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:11:31,721 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10014'; against '/resources/**'
2018-10-04 18:11:31,721 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:11:31,721 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:11:31,721 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:11:31,721 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:11:31,722 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 18:11:31,722 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:11:31,761 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:11:31,761 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:11:31,762 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:11:31,762 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:11:31,762 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:11:31,762 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10014 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:11:31,762 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10014'; against '/admin/**'
2018-10-04 18:11:31,763 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10014; Attributes: [isAuthenticated()]
2018-10-04 18:11:31,763 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:11:31,763 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:11:31,763 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:11:31,763 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:11:31,763 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10014 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:11:31,764 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10014]
2018-10-04 18:11:31,764 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10014
2018-10-04 18:11:31,765 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 18:11:31,765 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10014] is: -1
2018-10-04 18:11:31,766 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10014
2018-10-04 18:11:31,867 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:11:31,869 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@378ded33] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:11:31,869 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:11:31,869 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:11:31,870 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:11:31,870 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:22:11,731 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:22:11,732 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:22:11,732 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:22:11,732 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:22:11,733 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:22:11,733 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'user1@yandex.ru'
2018-10-04 18:22:11,733 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:22:11,876 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:22:11,877 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:22:11,877 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:22:11,877 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER'
2018-10-04 18:22:11,877 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:22:11,878 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:22:11,878 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 18:22:11,878 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 18:22:11,878 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@a80f5c97: Principal: UserTO{id=10001, name='User1', email='user1@yandex.ru'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_USER
2018-10-04 18:22:11,879 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:22:11,879 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:22:11,879 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:22:11,879 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:22:11,879 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing GET request for [/lunchvoter/restaurants/10011]
2018-10-04 18:22:11,880 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 18:22:11,881 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public tk.djandjiev.lunchvoter.backend.to.RestaurantTO tk.djandjiev.lunchvoter.backend.web.RestaurantController.get(int)]
2018-10-04 18:22:11,882 DEBUG org.springframework.web.servlet.DispatcherServlet.doDispatch:979 - Last-Modified value for [/lunchvoter/restaurants/10011] is: -1
2018-10-04 18:22:11,884 INFO  t.d.lunchvoter.backend.web.RestaurantController.get:45 - get restaurant 10011
2018-10-04 18:22:11,983 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:22:11,984 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.to.RestaurantTO@61fb4ab] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:22:11,985 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:22:11,985 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:22:11,985 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:22:11,985 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:29:11,970 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:29:11,971 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:29:11,972 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:29:11,973 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:29:11,974 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:29:11,975 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:29:11,979 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:29:12,103 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:29:12,103 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:29:12,103 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:29:12,104 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:29:12,104 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:29:12,104 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:29:12,104 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 18:29:12,104 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 18:29:12,104 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:29:12,105 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:29:12,105 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:29:12,105 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:29:12,105 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:29:12,106 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/restaurants/10011]
2018-10-04 18:29:12,106 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 18:29:12,107 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:29:12,108 DEBUG o.s.w.s.m.a.ResponseStatusExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:29:12,108 DEBUG o.s.w.s.m.support.DefaultHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:29:12,109 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:29:12,110 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:29:12,111 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:29:12,112 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:29:12,113 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:32:02,530 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:32:02,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:32:02,532 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:32:02,533 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:32:02,533 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:32:02,534 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:32:02,534 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:32:02,668 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:32:02,669 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:32:02,670 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:32:02,670 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:32:02,671 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:32:02,672 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:32:02,672 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 18:32:02,673 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 18:32:02,674 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:32:02,675 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:32:02,676 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:32:02,677 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:32:02,678 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:32:02,679 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/restaurants/10011]
2018-10-04 18:32:02,680 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 18:32:02,685 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:32:02,687 DEBUG o.s.w.s.m.a.ResponseStatusExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:32:02,687 DEBUG o.s.w.s.m.support.DefaultHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:32:02,689 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:32:02,690 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:32:02,691 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:32:02,692 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:32:02,693 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:33:09,563 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/resources/**'
2018-10-04 18:33:09,563 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:33:09,564 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:33:09,565 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:33:09,565 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:33:09,566 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:33:09,567 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:33:09,705 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:33:09,705 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:33:09,705 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:33:09,706 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:33:09,706 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:33:09,707 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants/10011 at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:33:09,707 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants/10011'; against '/admin/**'
2018-10-04 18:33:09,708 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants/10011; Attributes: [isAuthenticated()]
2018-10-04 18:33:09,709 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:33:09,709 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:33:09,710 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:33:09,710 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:33:09,710 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants/10011 reached end of additional filter chain; proceeding with original chain
2018-10-04 18:33:09,711 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing PUT request for [/lunchvoter/restaurants/10011]
2018-10-04 18:33:09,711 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants/10011
2018-10-04 18:33:09,715 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:33:09,715 DEBUG o.s.w.s.m.a.ResponseStatusExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:33:09,716 DEBUG o.s.w.s.m.support.DefaultHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [null]: org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded' not supported
2018-10-04 18:33:09,717 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:33:09,717 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:33:09,718 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:33:09,718 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:33:09,718 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:35:59,281 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:35:59,281 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:35:59,281 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:35:59,281 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:35:59,281 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:35:59,282 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:35:59,282 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:35:59,401 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:35:59,401 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:35:59,401 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:35:59,402 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:35:59,402 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:35:59,402 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:35:59,403 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:35:59,403 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:35:59,404 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:35:59,404 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:35:59,405 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:35:59,405 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:35:59,405 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:35:59,406 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:35:59,406 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:35:59,407 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:35:59,430 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:35:59,455 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:35:59,456 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:35:59,457 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:35:59,457 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:35:59,457 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:35:59,458 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:35:59,817 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]]
2018-10-04 18:35:59,856 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
2018-10-04 18:35:59,857 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.handleError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:35:59,858 ERROR t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:103 - APP_ERROR at request http://localhost:8080/lunchvoter/restaurants
javax.validation.ConstraintViolationException: Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80)
	at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:209)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:83)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy115.save(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.service.RestaurantServiceImpl.create(RestaurantServiceImpl.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:206)
	at com.sun.proxy.$Proxy117.create(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(RestaurantController.java:83)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$FastClassBySpringCGLIB$$c7151bf9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$EnhancerBySpringCGLIB$$835dcc4b.create(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 18:35:59,875 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:35:59,876 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@2da6c4e5] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:35:59,876 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:35:59,877 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:35:59,877 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:35:59,877 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:37:14,175 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:37:14,176 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:37:14,176 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:37:14,176 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:37:14,176 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:37:14,176 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:37:14,176 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:37:14,360 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:37:14,360 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:37:14,361 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:37:14,361 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:37:14,361 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:37:14,362 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:37:14,362 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:37:14,363 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:37:14,363 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:37:14,364 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:37:14,364 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:37:14,364 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:37:14,365 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:37:14,365 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:37:14,366 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:37:14,367 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:37:14,367 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:37:14,370 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:37:14,371 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:37:14,373 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:37:14,374 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:37:14,374 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:37:14,375 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:37:14,424 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:37:14,425 DEBUG o.s.w.s.m.m.annotation.HttpEntityMethodProcessor.writeWithMessageConverters:278 - Written [Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (10053, 'New Res')] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:37:14,426 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:37:14,426 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:37:14,427 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:37:14,427 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:38:10,990 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:38:10,990 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:38:10,990 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:38:10,990 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:38:10,990 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:38:10,990 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:38:10,991 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:38:11,111 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:11,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:38:11,112 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:38:11,113 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:38:11,113 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:38:11,114 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:38:11,115 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:38:11,115 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:38:11,116 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:11,117 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:38:11,118 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:11,118 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:11,119 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:38:11,120 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:38:11,121 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:38:11,123 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:38:11,124 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:38:11,128 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:38:11,131 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:11,133 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:38:11,134 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:11,136 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:11,141 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:38:11,149 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2018-10-04 18:38:11,150 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:38:11,164 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-10-04 18:38:11,206 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [RESTAURANTS_UNIQUE_NAME_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-10-04 18:38:11,206 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.conflict(javax.servlet.http.HttpServletRequest,org.springframework.dao.DataIntegrityViolationException)
2018-10-04 18:38:11,208 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:38:11,209 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:38:11,210 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@7b346e49] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:38:11,210 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:38:11,211 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:38:11,211 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:38:11,211 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:38:29,536 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:38:29,536 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:38:29,536 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:38:29,536 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:38:29,536 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:38:29,537 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:38:29,537 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:38:29,653 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:29,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:38:29,654 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:38:29,655 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:38:29,655 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:38:29,656 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:38:29,656 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:38:29,657 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:38:29,658 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:29,658 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:38:29,659 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:29,659 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:29,660 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:38:29,661 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:38:29,661 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:38:29,663 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:38:29,664 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:38:29,668 DEBUG o.s.w.s.m.m.a.ServletInvocableHandlerMethod.getMethodArgumentValues:167 - Failed to resolve argument 0 of type 'tk.djandjiev.lunchvoter.backend.model.Restaurant'
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 10]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:243)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:206)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:130)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:124)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:161)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:131)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 10]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1804)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:669)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:567)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2591)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:781)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:237)
	... 71 common frames omitted
2018-10-04 18:38:29,686 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 10]
2018-10-04 18:38:29,687 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.illegalRequestDataError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:38:29,687 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 10]
2018-10-04 18:38:29,688 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:38:29,689 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@fbf1ec7] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:38:29,690 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:38:29,690 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:38:29,704 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:38:29,705 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:38:45,178 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:38:45,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:38:45,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:38:45,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:38:45,178 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:38:45,179 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:38:45,179 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:38:45,287 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:45,288 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:38:45,288 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:38:45,289 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:38:45,289 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:38:45,289 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:38:45,290 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:38:45,290 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:38:45,291 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:45,291 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:38:45,291 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:45,292 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:45,292 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:38:45,293 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:38:45,293 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:38:45,294 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:38:45,296 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:38:45,299 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:38:45,300 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:45,301 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:38:45,302 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:45,302 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:45,303 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:38:45,309 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2018-10-04 18:38:45,310 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:38:45,312 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-10-04 18:38:45,347 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [RESTAURANTS_UNIQUE_NAME_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-10-04 18:38:45,347 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.conflict(javax.servlet.http.HttpServletRequest,org.springframework.dao.DataIntegrityViolationException)
2018-10-04 18:38:45,348 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:38:45,348 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:38:45,349 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@63f7231] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:38:45,350 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:38:45,350 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:38:45,350 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:38:45,350 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:38:56,239 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:38:56,239 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:38:56,239 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:38:56,239 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:38:56,239 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:38:56,239 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:38:56,240 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:38:56,351 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:56,351 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:38:56,351 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:38:56,352 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:38:56,353 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:38:56,353 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:38:56,354 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:38:56,354 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:38:56,354 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:56,355 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:38:56,356 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:56,356 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:56,357 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:38:56,357 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:38:56,358 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:38:56,360 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:38:56,361 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:38:56,364 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:38:56,365 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:38:56,367 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:38:56,368 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:38:56,369 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:38:56,370 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:38:56,375 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]]
2018-10-04 18:38:56,411 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
2018-10-04 18:38:56,412 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.handleError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:38:56,412 ERROR t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:103 - APP_ERROR at request http://localhost:8080/lunchvoter/restaurants
javax.validation.ConstraintViolationException: Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80)
	at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:209)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:83)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy115.save(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.service.RestaurantServiceImpl.create(RestaurantServiceImpl.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:206)
	at com.sun.proxy.$Proxy117.create(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(RestaurantController.java:83)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$FastClassBySpringCGLIB$$c7151bf9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$EnhancerBySpringCGLIB$$835dcc4b.create(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 18:38:56,429 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:38:56,430 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@34713c0d] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:38:56,430 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:38:56,430 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:38:56,430 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:38:56,431 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:39:25,446 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:39:25,447 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:39:25,447 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:39:25,447 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:39:25,447 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:39:25,447 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:39:25,447 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:39:25,571 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:25,572 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:39:25,572 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:39:25,573 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:39:25,574 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:39:25,574 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:39:25,575 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:39:25,576 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:39:25,577 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:25,578 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:39:25,579 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:39:25,580 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:39:25,580 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:39:25,581 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:39:25,582 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:39:25,584 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:39:25,586 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:39:25,591 DEBUG o.s.w.s.m.m.a.ServletInvocableHandlerMethod.getMethodArgumentValues:167 - Failed to resolve argument 0 of type 'tk.djandjiev.lunchvoter.backend.model.Restaurant'
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 9]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:243)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:225)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:206)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:157)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:130)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:124)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:161)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:131)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 9]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1804)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:669)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:567)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleUnexpectedValue(UTF8StreamJsonParser.java:2591)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:781)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:151)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4013)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3084)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:237)
	... 71 common frames omitted
2018-10-04 18:39:25,603 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character (',' (code 44)): expected a value; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 9]
2018-10-04 18:39:25,632 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.illegalRequestDataError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:39:25,633 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: com.fasterxml.jackson.core.JsonParseException: Unexpected character (',' (code 44)): expected a value
 at [Source: (PushbackInputStream); line: 1, column: 9]
2018-10-04 18:39:25,634 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:39:25,635 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@4ad0b686] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:39:25,635 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:39:25,636 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:39:25,636 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:39:25,636 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:39:37,407 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:39:37,407 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:39:37,407 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:39:37,407 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:39:37,407 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:39:37,407 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:39:37,408 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:39:37,530 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:37,531 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:39:37,532 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:39:37,532 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:39:37,533 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:39:37,534 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:39:37,534 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:39:37,535 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:39:37,536 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:37,537 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:39:37,537 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:39:37,538 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:39:37,539 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:39:37,539 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:39:37,540 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:39:37,542 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:39:37,544 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:39:37,548 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:39:37,550 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:37,552 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:39:37,553 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:39:37,554 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:39:37,556 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: tk.djandjiev.lunchvoter.backend.util.exception.IllegalRequestDataException: Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (0, 'New Res') must be new (id=null)
2018-10-04 18:39:37,557 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.illegalRequestDataError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:39:37,570 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: tk.djandjiev.lunchvoter.backend.util.exception.IllegalRequestDataException: Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (0, 'New Res') must be new (id=null)
2018-10-04 18:39:37,573 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:39:37,575 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@5b461a04] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:39:37,575 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:39:37,576 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:39:37,576 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:39:37,577 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:39:49,481 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:39:49,481 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:39:49,481 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:39:49,481 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:39:49,481 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:39:49,482 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:39:49,482 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:39:49,606 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:49,606 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:39:49,607 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:39:49,607 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:39:49,608 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:39:49,608 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:39:49,608 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:39:49,609 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:39:49,609 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:49,610 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:39:49,610 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:39:49,610 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:39:49,611 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:39:49,612 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:39:49,612 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:39:49,613 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:39:49,614 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:39:49,617 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:39:49,618 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:39:49,619 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:39:49,620 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:39:49,621 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:39:49,622 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:39:49,628 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2018-10-04 18:39:49,629 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:39:49,630 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-10-04 18:39:49,668 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [RESTAURANTS_UNIQUE_NAME_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-10-04 18:39:49,669 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.conflict(javax.servlet.http.HttpServletRequest,org.springframework.dao.DataIntegrityViolationException)
2018-10-04 18:39:49,670 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:39:49,671 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:39:49,673 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@4bb94781] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:39:49,674 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:39:49,674 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:39:49,675 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:39:49,675 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:40:08,688 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:40:08,689 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:40:08,689 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:40:08,689 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:40:08,689 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:40:08,690 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:40:08,690 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:40:08,815 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:08,815 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:40:08,815 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:40:08,816 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:40:08,817 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:40:08,817 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:40:08,818 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:40:08,818 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:40:08,819 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:08,820 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:40:08,820 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:40:08,821 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:40:08,822 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:40:08,823 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:40:08,824 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:40:08,825 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:40:08,827 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:40:08,829 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:40:08,831 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:08,832 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:40:08,834 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:40:08,834 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:40:08,835 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:40:08,852 WARN  org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:137 - SQL Error: -104, SQLState: 23505
2018-10-04 18:40:08,854 ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper.logExceptions:142 - integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:40:08,856 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [org.hibernate.exception.ConstraintViolationException: could not execute statement]
2018-10-04 18:40:08,886 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [RESTAURANTS_UNIQUE_NAME_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
2018-10-04 18:40:08,887 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.conflict(javax.servlet.http.HttpServletRequest,org.springframework.dao.DataIntegrityViolationException)
2018-10-04 18:40:08,887 WARN  t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:105 - VALIDATION_ERROR at request  http://localhost:8080/lunchvoter/restaurants: org.hsqldb.HsqlException: integrity constraint violation: unique constraint or index violation; RESTAURANTS_UNIQUE_NAME_IDX table: RESTAURANTS
2018-10-04 18:40:08,888 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:40:08,890 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@30af39a4] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:40:08,891 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:40:08,891 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:40:08,891 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:40:08,892 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:40:27,490 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:40:27,490 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:40:27,490 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:40:27,490 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:40:27,490 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:40:27,491 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:40:27,491 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:40:27,610 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:27,611 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:40:27,611 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:40:27,612 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:40:27,612 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:40:27,612 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:40:27,613 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:40:27,613 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:40:27,613 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:27,614 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:40:27,615 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:40:27,615 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:40:27,616 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:40:27,617 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:40:27,618 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:40:27,619 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:40:27,620 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:40:27,624 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:40:27,625 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:27,627 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:40:27,627 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:40:27,630 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:40:27,631 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:40:27,635 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]]
2018-10-04 18:40:27,659 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
2018-10-04 18:40:27,660 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.handleError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:40:27,660 ERROR t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:103 - APP_ERROR at request http://localhost:8080/lunchvoter/restaurants
javax.validation.ConstraintViolationException: Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80)
	at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:209)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:83)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy115.save(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.service.RestaurantServiceImpl.create(RestaurantServiceImpl.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:206)
	at com.sun.proxy.$Proxy117.create(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(RestaurantController.java:83)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$FastClassBySpringCGLIB$$c7151bf9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$EnhancerBySpringCGLIB$$835dcc4b.create(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 18:40:27,675 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:40:27,675 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@664f1fb3] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:40:27,676 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:40:27,676 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:40:27,676 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:40:27,676 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
2018-10-04 18:40:48,691 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/resources/**'
2018-10-04 18:40:48,691 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 1 of 8 in additional filter chain; firing Filter: 'SecurityContextPersistenceFilter'
2018-10-04 18:40:48,691 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 2 of 8 in additional filter chain; firing Filter: 'WebAsyncManagerIntegrationFilter'
2018-10-04 18:40:48,692 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 3 of 8 in additional filter chain; firing Filter: 'HeaderWriterFilter'
2018-10-04 18:40:48,692 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 4 of 8 in additional filter chain; firing Filter: 'BasicAuthenticationFilter'
2018-10-04 18:40:48,692 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:170 - Basic Authentication Authorization header found for user 'admin@gmail.com'
2018-10-04 18:40:48,692 DEBUG o.s.security.authentication.ProviderManager.authenticate:169 - Authentication attempt using org.springframework.security.authentication.dao.DaoAuthenticationProvider
2018-10-04 18:40:48,814 DEBUG o.s.s.w.a.www.BasicAuthenticationFilter.doFilterInternal:183 - Authentication success: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:48,815 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 5 of 8 in additional filter chain; firing Filter: 'SecurityContextHolderAwareRequestFilter'
2018-10-04 18:40:48,815 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 6 of 8 in additional filter chain; firing Filter: 'AnonymousAuthenticationFilter'
2018-10-04 18:40:48,816 DEBUG o.s.s.w.a.AnonymousAuthenticationFilter.doFilter:106 - SecurityContextHolder not populated with anonymous token, as it already contained: 'org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER'
2018-10-04 18:40:48,817 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 7 of 8 in additional filter chain; firing Filter: 'ExceptionTranslationFilter'
2018-10-04 18:40:48,818 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:328 - /restaurants at position 8 of 8 in additional filter chain; firing Filter: 'FilterSecurityInterceptor'
2018-10-04 18:40:48,818 DEBUG o.s.s.web.util.matcher.AntPathRequestMatcher.matches:157 - Checking match of request : '/restaurants'; against '/admin/**'
2018-10-04 18:40:48,819 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:219 - Secure object: FilterInvocation: URL: /restaurants; Attributes: [isAuthenticated()]
2018-10-04 18:40:48,820 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:48,821 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@2ea17111, returned: 1
2018-10-04 18:40:48,821 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:40:48,822 DEBUG o.s.s.w.access.intercept.FilterSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:40:48,822 DEBUG org.springframework.security.web.FilterChainProxy.doFilter:313 - /restaurants reached end of additional filter chain; proceeding with original chain
2018-10-04 18:40:48,823 DEBUG org.springframework.web.servlet.DispatcherServlet.doService:891 - DispatcherServlet with name 'mvc-dispatcher' processing POST request for [/lunchvoter/restaurants]
2018-10-04 18:40:48,824 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:312 - Looking up handler method for path /restaurants
2018-10-04 18:40:48,825 DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping.getHandlerInternal:319 - Returning handler method [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]
2018-10-04 18:40:48,828 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.readWithMessageConverters:201 - Read [class tk.djandjiev.lunchvoter.backend.model.Restaurant] as "application/json;charset=UTF-8" with [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@40711a82]
2018-10-04 18:40:48,832 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:219 - Secure object: ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant); target is of class [tk.djandjiev.lunchvoter.backend.web.RestaurantController]; Attributes: [[authorize: 'hasRole('ROLE_ADMIN')', filter: 'null', filterTarget: 'null']]
2018-10-04 18:40:48,834 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.authenticateIfRequired:348 - Previously Authenticated: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@4b8ae3bc: Principal: UserTO{id=10010, name='Admin', email='admin@gmail.com'}; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_USER
2018-10-04 18:40:48,836 DEBUG o.s.security.access.vote.AffirmativeBased.decide:66 - Voter: org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter@5d3ab7ba, returned: 1
2018-10-04 18:40:48,838 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:243 - Authorization successful
2018-10-04 18:40:48,839 DEBUG o.s.s.a.i.aopalliance.MethodSecurityInterceptor.beforeInvocation:256 - RunAsManager did not change Authentication object
2018-10-04 18:40:48,841 INFO  t.d.lunchvoter.backend.web.RestaurantController.create:82 - create Entity tk.djandjiev.lunchvoter.backend.model.Restaurant (null, 'New Res')
2018-10-04 18:40:48,853 ERROR org.hibernate.internal.ExceptionMapperStandardImpl.mapManagedFlushFailure:39 - HHH000346: Error during managed flush [Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]]
2018-10-04 18:40:48,885 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.resolveException:136 - Resolving exception from handler [public org.springframework.http.ResponseEntity<tk.djandjiev.lunchvoter.backend.model.Restaurant> tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(tk.djandjiev.lunchvoter.backend.model.Restaurant)]: org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction; nested exception is javax.persistence.RollbackException: Error while committing the transaction
2018-10-04 18:40:48,885 DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException:395 - Invoking @ExceptionHandler method: public tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo tk.djandjiev.lunchvoter.backend.web.ExceptionInfoHandler.handleError(javax.servlet.http.HttpServletRequest,java.lang.Exception)
2018-10-04 18:40:48,886 ERROR t.d.lunchvoter.backend.web.ExceptionInfoHandler.logAndGetErrorInfo:103 - APP_ERROR at request http://localhost:8080/lunchvoter/restaurants
javax.validation.ConstraintViolationException: Validation failed for classes [tk.djandjiev.lunchvoter.backend.model.Restaurant] during persist time for groups [tk.djandjiev.lunchvoter.backend.View$Persist, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=votes, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
	ConstraintViolationImpl{interpolatedMessage='должно быть задано', propertyPath=menu, rootBeanClass=class tk.djandjiev.lunchvoter.backend.model.Restaurant, messageTemplate='{javax.validation.constraints.NotNull.message}'}
]
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:140)
	at org.hibernate.cfg.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:80)
	at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:209)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:83)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:478)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:356)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:39)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1454)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:511)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3283)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2479)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:473)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:178)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:39)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:271)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:98)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:536)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:746)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:714)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:532)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:304)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:98)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:135)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.data.repository.core.support.SurroundingTransactionDetectorMethodInterceptor.invoke(SurroundingTransactionDetectorMethodInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)
	at com.sun.proxy.$Proxy115.save(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.service.RestaurantServiceImpl.create(RestaurantServiceImpl.java:25)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:206)
	at com.sun.proxy.$Proxy117.create(Unknown Source)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController.create(RestaurantController.java:83)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$FastClassBySpringCGLIB$$c7151bf9.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:746)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at tk.djandjiev.lunchvoter.backend.web.RestaurantController$$EnhancerBySpringCGLIB$$835dcc4b.create(<generated>)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:209)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:877)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:783)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:991)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:925)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:877)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:661)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:851)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:742)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:320)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:215)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:334)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:215)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:178)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:357)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:270)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:200)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)
	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:650)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:800)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:800)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1471)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:748)
2018-10-04 18:40:48,917 DEBUG o.s.security.web.header.writers.HstsHeaderWriter.writeHeaders:129 - Not injecting HSTS header since it did not match the requestMatcher org.springframework.security.web.header.writers.HstsHeaderWriter$SecureRequestMatcher@3dcddf73
2018-10-04 18:40:48,918 DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor.writeWithMessageConverters:278 - Written [tk.djandjiev.lunchvoter.backend.util.exception.ErrorInfo@5586d9eb] as "application/json;charset=UTF-8" using [org.springframework.http.converter.json.MappingJackson2HttpMessageConverter@3c3f6a]
2018-10-04 18:40:48,918 DEBUG org.springframework.web.servlet.DispatcherServlet.processDispatchResult:1076 - Null ModelAndView returned to DispatcherServlet with name 'mvc-dispatcher': assuming HandlerAdapter completed request handling
2018-10-04 18:40:48,918 DEBUG org.springframework.web.servlet.DispatcherServlet.processRequest:1000 - Successfully completed request
2018-10-04 18:40:48,919 DEBUG o.s.security.web.access.ExceptionTranslationFilter.doFilter:121 - Chain processed normally
2018-10-04 18:40:48,919 DEBUG o.s.s.web.context.SecurityContextPersistenceFilter.doFilter:119 - SecurityContextHolder now cleared, as request processing completed
